---
// Shared Holiday Detail Component
// Used by tennis-holiday, padel-holiday, pickleball-holiday, etc.

import BaseLayout from '../layouts/BaseLayout.astro';
import { getStrapiImageAttrs } from '../utils/cloudflareImages.js';
import { marked } from 'marked';

// Configure marked for safe markdown parsing
marked.setOptions({
  breaks: true,
  gfm: true
});

// Props
interface Props {
  holidayData: any;
  holidayType: string; // 'tennis-holiday', 'padel-holiday', 'pickleball-holiday', 'group-organiser', etc.
  matchingEvents: any[];
  similarHolidays: any[];
  slug: string;
  isGroupOrganiser?: boolean; // Flag to indicate this is a group organiser page
  groupOrganiserTitle?: string; // Original group organiser title
}

const { holidayData, holidayType, matchingEvents, similarHolidays, slug, isGroupOrganiser = false, groupOrganiserTitle } = Astro.props;

// Extract data with fallbacks
// For group organisers, use the groupOrganiserTitle for the hero, not the master page title
// For ski holidays, prefer shortLocationName for the hero title
const heroTitle = isGroupOrganiser && groupOrganiserTitle 
  ? groupOrganiserTitle 
  : holidayType === 'ski-holiday' 
    ? (holidayData.shortLocationName || holidayData.mainHeader || holidayData.title)
    : (holidayData.mainHeader || holidayData.title);
// For group organisers, use mainHeader from the master page as the subtitle, plus productType
const heroSubtitle = isGroupOrganiser 
  ? `${holidayData.mainHeader || holidayData.headingText || ''}${holidayData.productType ? ' · ' + holidayData.productType : ''}`
  : (holidayData.headingText || '');
const heroKicker = holidayData.country || '';
const heroBackgroundImage = holidayData.headerImage?.url || 'https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/45b69090-1c22-46cd-7f98-086ba71efc00/public';
const heroBackgroundImageAlt = holidayData.headerImage?.alt || heroTitle;

// Extract SEO fields with fallbacks
const pageTitle = holidayData.seo?.metaTitle || `${holidayData.title} - Active Away`;
const pageDescription = holidayData.seo?.metaDescription || holidayData.excerpt || `Experience ${holidayData.title} with Active Away`;
const metaImage = holidayData.seo?.metaImage || holidayData.headerImage?.url || null;
const metaImageAlt = holidayData.seo?.metaImageAlt || null;
const keywords = holidayData.seo?.keywords || null;
// For group-organiser pages, use the actual route; otherwise use the holidayType route
const canonicalURL = holidayData.seo?.canonicalURL || `https://activeaway.com/${slug.includes('group-organiser') || holidayType === 'group-organiser' ? 'group-organiser' : holidayType}/${slug}`;

// Sport-specific labels based on holiday type
const sportLabel = (holidayType === 'padel-tennis-holiday' || holidayType === 'padel-holiday') ? 'Padel' : 
                   holidayType === 'pickleball-holiday' ? 'Pickleball' : 
                   holidayType === 'ski-holiday' ? 'Ski' :
                   holidayType === 'group-organiser' ? 'Tennis' :
                   'Tennis';
                   
const courtsLabel = `${sportLabel} Courts`;
const sectionTitle = `The ${sportLabel}`;

// Breadcrumb link - group organisers have their own route
const breadcrumbLink = isGroupOrganiser ? '/group-organiser' : (holidayType === 'group-organiser' ? '/' : `/${holidayType}`);

// Breadcrumb label - proper naming for each type
const getBreadcrumbLabel = () => {
  if (isGroupOrganiser || holidayType === 'group-organiser') return 'Group Organisers';
  if (holidayType === 'tennis-clinic') return 'Tennis Clinics';
  if (holidayType === 'junior-tennis-camp') return 'Junior Tennis Camps';
  if (holidayType === 'school-tennis-tour') return 'School Tennis Tours';
  return `${sportLabel} Holidays`;
};
const breadcrumbLabel = getBreadcrumbLabel();
const breadcrumbTitle = isGroupOrganiser && groupOrganiserTitle ? groupOrganiserTitle : holidayData.title;

// Carousel slide count varies by sport
// Ski holidays: 1 slide
// Pickleball holidays: 2 slides
// Junior tennis camps: 2 slides
// Tennis clinics: 2 slides
// School tennis tours: 2 slides
// Everything else: 3 slides
const carouselSlideCount = holidayType === 'ski-holiday' ? 1 : (holidayType === 'pickleball-holiday' || holidayType === 'junior-tennis-camp' || holidayType === 'tennis-clinic' || holidayType === 'school-tennis-tour') ? 2 : 3;
---

<BaseLayout 
  title={pageTitle}
  description={pageDescription}
  metaImage={metaImage}
  metaImageAlt={metaImageAlt}
  keywords={keywords}
  canonicalURL={canonicalURL}
>
  <!-- Preload LCP Hero Image -->
  <link 
    slot="head" 
    rel="preload" 
    as="image" 
    href={heroBackgroundImage}
    fetchpriority="high"
  />

  <!-- Hero Header Section with Background Image -->
  <section id="hero" class="relative w-full h-[400px] sm:h-[500px] lg:h-[600px] overflow-hidden">
    <!-- Background Image with Centered Gradient Overlay -->
    <div class="absolute inset-0 bg-gradient-to-b from-[#0D1C4E]/75 via-[#0D1C4E]/60 to-[#0D1C4E]/60 z-10"></div>
    {(() => {
      const heroAttrs = getStrapiImageAttrs(holidayData.headerImage, {
        displayWidth: 1920,
        displayHeight: 1080,
        fit: 'cover',
        quality: 75,
        sizes: '100vw'
      });
      
      return heroAttrs ? (
        <img 
          src={heroAttrs.src}
          srcset={heroAttrs.srcset}
          sizes={heroAttrs.sizes}
          alt={heroAttrs.alt || heroBackgroundImageAlt}
          width={heroAttrs.width}
          height={heroAttrs.height}
          class="absolute inset-0 w-full h-full object-cover"
          fetchpriority="high"
        />
      ) : (
        <img 
          src={heroBackgroundImage}
          alt={heroBackgroundImageAlt}
          class="absolute inset-0 w-full h-full object-cover"
          fetchpriority="high"
        />
      );
    })()}
    
    <!-- Centered Content -->
    <div class="relative z-20 container mx-auto max-w-[1400px] px-4 sm:px-10 h-full flex flex-col justify-center items-center text-center">
      <div class="text-xs sm:text-sm font-inter font-semibold text-gold tracking-[0.2em] uppercase mb-4 sm:mb-6 border-t border-b border-gold/50 py-2 px-6">
        {heroKicker}
      </div>
      <h1 class="text-4xl sm:text-5xl lg:text-7xl font-playfair font-bold text-white mb-6 sm:mb-8 leading-tight max-w-4xl">
        {heroTitle}
      </h1>
      {heroSubtitle && (
        <p class="text-lg sm:text-xl lg:text-2xl font-inter text-gray-100 max-w-3xl leading-relaxed">
          {heroSubtitle}
        </p>
      )}
    </div>
    
    <!-- Map Pin Button - Bottom Right -->
    {holidayData.googleMapsSearchTerm && (
      <button
        id="openMapButton"
        class="absolute bottom-6 right-6 z-20 w-14 h-14 bg-[#ad986c] hover:bg-[#8d7a56] text-white rounded-full shadow-lg hover:shadow-xl flex items-center justify-center transition-all duration-300 hover:scale-110"
        aria-label="View on map"
      >
        <svg class="w-7 h-7" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
        </svg>
      </button>
    )}
  </section>

  <!-- Breadcrumb Navigation -->
  <section class="w-full bg-gray-50 py-4 border-b border-gray-200">
    <div class="container mx-auto max-w-[1400px] px-4 sm:px-10">
      <nav class="flex items-center gap-2 text-sm font-inter min-w-0">
        <a href="/" class="text-gray-600 hover:text-[#ad986c] transition-colors flex-shrink-0">Home</a>
        <svg class="w-4 h-4 text-gray-400 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
        <a href={breadcrumbLink} class="text-gray-600 hover:text-[#ad986c] transition-colors flex-shrink-0">{breadcrumbLabel}</a>
        <svg class="w-4 h-4 text-gray-400 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
        <span class="text-gray-900 font-medium truncate min-w-0">{breadcrumbTitle}</span>
      </nav>
    </div>
  </section>

  <!-- Tab Navigation - Sticky -->
  <nav class="sticky top-0 z-30 w-full bg-white border-b border-gray-200">
    <div class="w-full overflow-x-auto scrollbar-hide">
      <div class="container mx-auto max-w-[1400px] px-4 sm:px-10">
        <div class="flex items-center justify-start sm:justify-center gap-2 py-2">
        <button 
          class="page-nav-tab active px-6 py-3 text-sm font-medium font-inter rounded-full whitespace-nowrap transition-all"
          data-section="info"
        >
          Info
        </button>
        <button 
          class="page-nav-tab px-6 py-3 text-sm font-medium font-inter rounded-full whitespace-nowrap transition-all"
          data-section="itinerary"
        >
          Itinerary
        </button>
        <button 
          class="page-nav-tab px-6 py-3 text-sm font-medium font-inter rounded-full whitespace-nowrap transition-all"
          data-section="resort"
        >
          {(holidayType === 'tennis-clinic' || holidayType === 'junior-tennis-camp') ? 'Venue Information' : 'Resort Information'}
        </button>
        <button 
          class="page-nav-tab px-6 py-3 text-sm font-medium font-inter rounded-full whitespace-nowrap transition-all"
          data-section="faqs"
        >
          FAQs
        </button>
        </div>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main>
  <section class="w-full bg-white py-8 sm:py-12 lg:py-16">
    <div class="container mx-auto max-w-[1400px] px-4 sm:px-10">
      
      <!-- Info Section -->
      <div id="info" class="scroll-mt-20">
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12">
          
          <!-- Left Column - Main Content (8 cols) -->
          <div class="lg:col-span-8">
            {holidayData.belowHeadingText ? (
              <div class="prose max-w-none font-inter" set:html={marked.parse(holidayData.belowHeadingText)}></div>
            ) : (
              <div class="prose max-w-none font-inter">
                <p>Join us for an unforgettable {sportLabel.toLowerCase()} holiday at <strong>{holidayData.venue}</strong>.</p>
                {holidayData.excerpt && <p>{holidayData.excerpt}</p>}
              </div>
            )}
            
            <!-- Why We Love It Box -->
            {(holidayData.whyWeLoveVenue1 || holidayData.whyWeLoveVenue2 || holidayData.whyWeLoveVenue3 || holidayData.whyWeLoveVenue4) && (
              <div class="mt-8 bg-gray-50 border border-gray-200 rounded-xl p-6 sm:p-8">
                <h2 class="text-2xl sm:text-3xl font-playfair font-semibold text-gray-900 mb-6">
                  Why We Love {(holidayType === 'padel-tennis-holiday' || holidayType === 'padel-holiday' || holidayType === 'pickleball-holiday' || holidayType === 'tennis-clinic' || holidayType === 'junior-tennis-camp' || holidayType === 'ski-holiday') ? (holidayData.shortLocationName || holidayData.venue || holidayData.title) : (holidayData.venue || holidayData.title)}
                </h2>
                <div class={`grid grid-cols-1 ${(holidayType !== 'tennis-clinic' && holidayType !== 'junior-tennis-camp') ? 'sm:grid-cols-2' : ''} gap-4`}>
                  {[
                    holidayData.whyWeLoveVenue1, 
                    holidayData.whyWeLoveVenue2, 
                    ...((holidayType !== 'tennis-clinic' && holidayType !== 'junior-tennis-camp') ? [holidayData.whyWeLoveVenue3, holidayData.whyWeLoveVenue4] : [])
                  ].filter(Boolean).map((reason) => (
                    <div class="flex items-start gap-3">
                      <svg class="w-5 h-5 text-[#ad986c] flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                      </svg>
                      <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed">{reason}</p>
                    </div>
                  ))}
                </div>
              </div>
            )}

            <!-- Group Organiser Information Box (Only for group-organiser pages) -->
            {isGroupOrganiser && (holidayData.groupOrganiserName || holidayData.groupOrganiserImage || holidayData.groupOrganiserWhatsappUrl || holidayData.groupOrganiserOtherUrl) && (
              <div class="mt-8 bg-gradient-to-br from-[#ad986c] to-[#8d7a56] border border-[#ad986c] rounded-xl p-6 sm:p-8 shadow-lg">
                <h2 class="text-2xl sm:text-3xl font-playfair font-semibold text-white mb-6 text-center sm:text-left">
                  Your Group Organiser
                </h2>
                <div class="flex flex-col sm:flex-row items-center sm:items-start gap-6">
                  {holidayData.groupOrganiserImage && (
                    <div class="flex-shrink-0">
                      <img 
                        src={holidayData.groupOrganiserImage.url} 
                        alt={holidayData.groupOrganiserImage.alt || holidayData.groupOrganiserName || 'Group Organiser'} 
                        class="w-32 h-32 rounded-full object-cover border-4 border-white shadow-md"
                      />
                    </div>
                  )}
                  <div class="flex-1 text-center sm:text-left">
                    {holidayData.groupOrganiserName && (
                      <h3 class="text-xl sm:text-2xl font-playfair font-semibold text-white mb-4">
                        {holidayData.groupOrganiserName}
                      </h3>
                    )}
                    <div class="flex flex-col sm:flex-row gap-3">
                      {holidayData.groupOrganiserWhatsappUrl && (
                        <button 
                          data-whatsapp-url={btoa(holidayData.groupOrganiserWhatsappUrl)}
                          class="whatsapp-group-btn inline-flex items-center justify-center gap-2 bg-white text-[#ad986c] font-inter font-semibold py-3 px-6 rounded-full transition-all duration-300 shadow-md hover:shadow-lg hover:scale-105 cursor-pointer"
                        >
                          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/>
                          </svg>
                          Join WhatsApp Group
                        </button>
                      )}
                      {holidayData.groupOrganiserOtherUrl && (
                        <a 
                          href={holidayData.groupOrganiserOtherUrl} 
                          target="_blank" 
                          rel="noopener noreferrer"
                          class="inline-flex items-center justify-center gap-2 bg-white text-[#ad986c] font-inter font-semibold py-3 px-6 rounded-full transition-all duration-300 shadow-md hover:shadow-lg hover:scale-105"
                        >
                          <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                          </svg>
                          Other Destination
                        </a>
                      )}
                    </div>
                  </div>
                </div>
              </div>
            )}
          </div>
          
          <!-- Right Column - Key Information (4 cols) -->
          <div class="lg:col-span-4">
            <div class="bg-white border border-gray-200 rounded-xl p-6 shadow-sm lg:sticky lg:top-24">
              <div class="space-y-6">
                
                {/* Our Rating - Hide for tennis-clinic and junior-tennis-camp */}
                {holidayData.ourRating && (holidayType !== 'tennis-clinic' && holidayType !== 'junior-tennis-camp') && (
                  <div class="flex items-start gap-3">
                    <svg class="w-6 h-6 text-[#ad986c] flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
                    </svg>
                    <div class="flex-1 min-w-0">
                      <p class="text-sm font-medium text-gray-900 font-inter">Our Rating</p>
                      <p class="text-sm text-gray-600 font-inter">{holidayData.ourRating}/5 Stars</p>
                    </div>
                  </div>
                )}
                
                {/* Courts - Different rendering for Tennis vs Padel vs Pickleball */}
                {(holidayType === 'padel-tennis-holiday' || holidayType === 'padel-holiday') ? (
                  (holidayData.numberOfPadelCourts || holidayData.padelCourtSurface) && (
                    <div class="flex items-start gap-3">
                      <svg class="w-6 h-6 text-[#ad986c] flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z"/>
                        <path d="M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z"/>
                        <path d="M16 17h4"/>
                        <path d="M4 13h4"/>
                      </svg>
                      <div class="flex-1 min-w-0">
                        <p class="text-sm font-medium text-gray-900 font-inter">{courtsLabel}</p>
                        <p class="text-sm text-gray-600 font-inter">
                          {holidayData.numberOfPadelCourts ? `${holidayData.numberOfPadelCourts} ` : ''}{holidayData.padelCourtSurface || ''}
                        </p>
                      </div>
                    </div>
                  )
                ) : holidayType === 'pickleball-holiday' ? (
                  (holidayData.numberOfPickleballCourts || holidayData.pickleballCourtSurface) && (
                    <div class="flex items-start gap-3">
                      <svg class="w-6 h-6 text-[#ad986c] flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z"/>
                        <path d="M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z"/>
                        <path d="M16 17h4"/>
                        <path d="M4 13h4"/>
                      </svg>
                      <div class="flex-1 min-w-0">
                        <p class="text-sm font-medium text-gray-900 font-inter">{courtsLabel}</p>
                        <p class="text-sm text-gray-600 font-inter">
                          {holidayData.numberOfPickleballCourts ? `${holidayData.numberOfPickleballCourts} ` : ''}{holidayData.pickleballCourtSurface || ''}
                        </p>
                      </div>
                    </div>
                  )
                ) : (
                  holidayData.tennisCourtSurface && (
                    <div class="flex items-start gap-3">
                      <svg class="w-6 h-6 text-[#ad986c] flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z"/>
                        <path d="M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z"/>
                        <path d="M16 17h4"/>
                        <path d="M4 13h4"/>
                      </svg>
                      <div class="flex-1 min-w-0">
                        <p class="text-sm font-medium text-gray-900 font-inter">{courtsLabel}</p>
                        <p class="text-sm text-gray-600 font-inter">{holidayData.tennisCourtSurface}</p>
                      </div>
                    </div>
                  )
                )}
                
                {/* Board Basis - Hide for tennis-clinic and junior-tennis-camp */}
                {(holidayData.boardBasisLg || holidayData.boardBasis) && (holidayType !== 'tennis-clinic' && holidayType !== 'junior-tennis-camp') && (
                  <div class="flex items-start gap-3">
                    <svg class="w-6 h-6 text-[#ad986c] flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/>
                      <path d="M7 2v20"/>
                      <path d="M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/>
                    </svg>
                    <div class="flex-1 min-w-0">
                      <p class="text-sm font-medium text-gray-900 font-inter">Board Basis</p>
                      <p class="text-sm text-gray-600 font-inter">{holidayData.boardBasisLg || (holidayData.boardBasis ? holidayData.boardBasis.replace(/<[^>]*>/g, '').substring(0, 50) : '')}</p>
                    </div>
                  </div>
                )}
                
                {/* Pricing - Hidden for group organisers */}
                {!isGroupOrganiser && holidayData.priceFrom && (
                  <div class="flex items-start gap-3">
                    <svg class="w-6 h-6 text-[#ad986c] flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M18 7c0-5.333-8-5.333-8 0"/>
                      <path d="M10 7v14"/>
                      <path d="M6 21h12"/>
                      <path d="M6 13h10"/>
                    </svg>
                    <div class="flex-1 min-w-0">
                      <p class="text-sm font-medium text-gray-900 font-inter">Pricing</p>
                      <p class="text-sm text-gray-600 font-inter">from £{holidayData.priceFrom}pp</p>
                    </div>
                  </div>
                )}
                
                {/* Residential or Non-Residential - only for junior-tennis-camp */}
                {holidayType === 'junior-tennis-camp' && holidayData.residentialOrNonResidential && (
                  <div class="flex items-start gap-3">
                    <svg class="w-6 h-6 text-[#ad986c] flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                      <polyline points="9 22 9 12 15 12 15 22"/>
                    </svg>
                    <div class="flex-1 min-w-0">
                      <p class="text-sm font-medium text-gray-900 font-inter">Type</p>
                      <p class="text-sm text-gray-600 font-inter">{holidayData.residentialOrNonResidential}</p>
                    </div>
                  </div>
                )}
                
                {/* Airport - Hide for tennis-clinic, Padel, Pickleball and Ski use distanceFromAirport, Tennis uses airportTransfer */}
                {holidayType !== 'tennis-clinic' && ((holidayType === 'padel-tennis-holiday' || holidayType === 'padel-holiday' || holidayType === 'pickleball-holiday' || holidayType === 'ski-holiday') ? (
                  holidayData.distanceFromAirport && (
                    <div class="flex items-start gap-3">
                      <svg class="w-6 h-6 text-[#ad986c] flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                      </svg>
                      <div class="flex-1 min-w-0">
                        <p class="text-sm font-medium text-gray-900 font-inter">Airport</p>
                        <p class="text-sm text-gray-600 font-inter">{holidayData.distanceFromAirport}</p>
                      </div>
                    </div>
                  )
                ) : (
                  holidayData.airportTransfer && (
                    <div class="flex items-start gap-3">
                      <svg class="w-6 h-6 text-[#ad986c] flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                      </svg>
                      <div class="flex-1 min-w-0">
                        <p class="text-sm font-medium text-gray-900 font-inter">Airport Transfers</p>
                        <p class="text-sm text-gray-600 font-inter">{holidayData.airportTransfer}</p>
                      </div>
                    </div>
                  )
                ))}
                
                {/* Single Occupancy - Hide for tennis-clinic and junior-tennis-camp */}
                {(holidayType !== 'tennis-clinic' && holidayType !== 'junior-tennis-camp') && ((holidayType === 'padel-tennis-holiday' || holidayType === 'padel-holiday' || holidayType === 'pickleball-holiday' || holidayType === 'play-and-watch' || holidayType === 'ski-holiday') ? (
                  holidayData.singleOccupancy && (
                    <div class="flex items-start gap-3">
                      <svg class="w-6 h-6 text-[#ad986c] flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                      </svg>
                      <div class="flex-1 min-w-0">
                        <p class="text-sm font-medium text-gray-900 font-inter">Single Occupancy</p>
                        <p class="text-sm text-gray-600 font-inter">{holidayData.singleOccupancy}</p>
                      </div>
                    </div>
                  )
                ) : (
                  holidayData.singleOccupancyRange && (
                    <div class="flex items-start gap-3">
                      <svg class="w-6 h-6 text-[#ad986c] flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                      </svg>
                      <div class="flex-1 min-w-0">
                        <p class="text-sm font-medium text-gray-900 font-inter">Single Occupancy</p>
                        <p class="text-sm text-gray-600 font-inter">{holidayData.singleOccupancyRange}</p>
                      </div>
                    </div>
                  )
                ))}
                
                {/* Typical Group Size */}
                {holidayData.typicalGroupSize && (
                  <div class="flex items-start gap-3">
                    <svg class="w-6 h-6 text-[#ad986c] flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                    </svg>
                    <div class="flex-1 min-w-0">
                      <p class="text-sm font-medium text-gray-900 font-inter">Typical Group Size</p>
                      <p class="text-sm text-gray-600 font-inter">{holidayData.typicalGroupSize}</p>
                    </div>
                  </div>
                )}
                
                {/* Tennis Courts - for play-and-watch */}
                {holidayType === 'play-and-watch' && (holidayData.tennisCourts || holidayData.tennisCourtSurface) && (
                  <div class="flex items-start gap-3">
                    <svg class="w-6 h-6 text-[#ad986c] flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z"/>
                      <path d="M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z"/>
                      <path d="M16 17h4"/>
                      <path d="M4 13h4"/>
                    </svg>
                    <div class="flex-1 min-w-0">
                      <p class="text-sm font-medium text-gray-900 font-inter">Tennis Courts</p>
                      <p class="text-sm text-gray-600 font-inter">{holidayData.tennisCourtSurface || (holidayData.tennisCourts ? holidayData.tennisCourts.replace(/<[^>]*>/g, '').substring(0, 50) : '')}</p>
                    </div>
                  </div>
                )}
                
                {/* Destination Airport - for play-and-watch */}
                {holidayType === 'play-and-watch' && holidayData.destinationAirport && (
                  <div class="flex items-start gap-3">
                    <svg class="w-6 h-6 text-[#ad986c] flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                    </svg>
                    <div class="flex-1 min-w-0">
                      <p class="text-sm font-medium text-gray-900 font-inter">Destination Airport</p>
                      <p class="text-sm text-gray-600 font-inter">{holidayData.destinationAirport}</p>
                    </div>
                  </div>
                )}
                
                {/* Cafe Information - for tennis-clinic and junior-tennis-camp */}
                {holidayData.cafeInformation && (holidayType === 'tennis-clinic' || holidayType === 'junior-tennis-camp') && (
                  <div class="flex items-start gap-3">
                    <svg class="w-6 h-6 text-[#ad986c] flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M10 2v2"/>
                      <path d="M14 2v2"/>
                      <path d="M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1"/>
                      <path d="M6 2v2"/>
                    </svg>
                    <div class="flex-1 min-w-0">
                      <p class="text-sm font-medium text-gray-900 font-inter">Cafe</p>
                      <p class="text-sm text-gray-600 font-inter">{holidayData.cafeInformation.replace(/<[^>]*>/g, '').substring(0, 100)}</p>
                    </div>
                  </div>
                )}
                
                {/* Car Parking Information - for tennis-clinic and junior-tennis-camp */}
                {holidayData.carParkingInformation && (holidayType === 'tennis-clinic' || holidayType === 'junior-tennis-camp') && (
                  <div class="flex items-start gap-3">
                    <svg class="w-6 h-6 text-[#ad986c] flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <rect width="18" height="18" x="3" y="3" rx="2"/>
                      <path d="M9 17V7h4a3 3 0 0 1 0 6h-4"/>
                    </svg>
                    <div class="flex-1 min-w-0">
                      <p class="text-sm font-medium text-gray-900 font-inter">Car Parking</p>
                      <p class="text-sm text-gray-600 font-inter">{holidayData.carParkingInformation.replace(/<[^>]*>/g, '').substring(0, 100)}</p>
                    </div>
                  </div>
                )}
                
                {/* Rating Bars */}
                {(holidayData.guestRating || holidayData.tennisCourtRating || holidayData.diningRating) && (
                  <div class="pt-6 border-t border-gray-200 space-y-4">
                    {holidayData.guestRating && (
                      <div>
                        <div class="flex items-center justify-between mb-2">
                          <p class="text-sm font-medium text-gray-700 font-inter">Guest Rating</p>
                          <p class="text-sm font-bold text-[#ad986c] font-inter">{holidayData.guestRating}/10</p>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                          <div class="bg-[#ad986c] h-2 rounded-full transition-all" style={`width: ${(holidayData.guestRating / 10) * 100}%`}></div>
                        </div>
                      </div>
                    )}
                    
                    {holidayData.tennisCourtRating && (
                      <div>
                        <div class="flex items-center justify-between mb-2">
                          <p class="text-sm font-medium text-gray-700 font-inter">{courtsLabel}</p>
                          <p class="text-sm font-bold text-[#ad986c] font-inter">{holidayData.tennisCourtRating}/10</p>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                          <div class="bg-[#ad986c] h-2 rounded-full transition-all" style={`width: ${(holidayData.tennisCourtRating / 10) * 100}%`}></div>
                        </div>
                      </div>
                    )}
                    
                    {holidayData.diningRating && holidayType !== 'tennis-clinic' && (
                      <div>
                        <div class="flex items-center justify-between mb-2">
                          <p class="text-sm font-medium text-gray-700 font-inter">Dining Experience</p>
                          <p class="text-sm font-bold text-[#ad986c] font-inter">{holidayData.diningRating}/10</p>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                          <div class="bg-[#ad986c] h-2 rounded-full transition-all" style={`width: ${(holidayData.diningRating / 10) * 100}%`}></div>
                        </div>
                      </div>
                    )}
                  </div>
                )}
              </div>
            </div>
          </div>
          
        </div>
      </div>
      
    </div>
  </section>

  <!-- Gallery Section - Full Width to Browser Edges -->
  {holidayData.mainGallery && holidayData.mainGallery.length > 0 && (
    <section class="relative w-full border-t border-gray-200 py-8 sm:py-12 lg:py-16">
      <div class="container mx-auto max-w-[1400px] px-4 sm:px-10 mb-8 sm:mb-12">
        <h2 class="text-2xl sm:text-3xl lg:text-4xl font-playfair font-semibold text-gray-900 text-center">Gallery</h2>
      </div>
      
      <div class="relative flex items-stretch">
        <!-- Left Image - Extends to Left Edge -->
        {holidayData.mainGallery[1] && (() => {
          const imgAttrs = getStrapiImageAttrs(holidayData.mainGallery[1], {
            displayWidth: 300,
            displayHeight: 450,
            fit: 'cover',
            quality: 70,
            sizes: '15vw'
          });
          
          return (
            <button
              type="button"
              class="gallery-image hidden lg:block w-[15vw] relative overflow-hidden bg-gray-100 group cursor-pointer flex-shrink-0"
              data-index="1"
            >
              <img 
                src={imgAttrs?.src || holidayData.mainGallery[1].url}
                srcset={imgAttrs?.srcset}
                sizes={imgAttrs?.sizes}
                alt={imgAttrs?.alt || holidayData.mainGallery[1].alt || 'Gallery image'}
                width={imgAttrs?.width}
                height={imgAttrs?.height}
                class="w-full h-full min-h-[600px] object-cover group-hover:scale-105 transition-transform duration-500"
                loading="lazy"
              />
              <div class="absolute inset-0 bg-white/40 group-hover:bg-white/20 transition-all duration-300"></div>
            </button>
          );
        })()}
        
        <!-- Center Main Image - Container Width -->
        <div class="flex-1 flex justify-center px-4 sm:px-10">
          {(() => {
            const mainAttrs = getStrapiImageAttrs(holidayData.mainGallery[0], {
              displayWidth: 1200,
              displayHeight: 800,
              fit: 'cover',
              quality: 70,
              sizes: '(max-width: 1024px) 100vw, 1200px'
            });
            
            return (
              <button
                type="button"
                class="gallery-image relative w-full max-w-[1400px] h-[400px] sm:h-[500px] lg:h-[600px] overflow-hidden rounded-xl bg-gray-100 group cursor-pointer"
                data-index="0"
              >
                <img 
                  src={mainAttrs?.src || holidayData.mainGallery[0]?.url}
                  srcset={mainAttrs?.srcset}
                  sizes={mainAttrs?.sizes}
                  alt={mainAttrs?.alt || holidayData.mainGallery[0]?.alt || 'Main gallery image'}
                  width={mainAttrs?.width}
                  height={mainAttrs?.height}
                  class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
                  loading="eager"
                />
                <div class="absolute inset-0 flex items-center justify-center">
                  <div class="bg-black/50 backdrop-blur-sm hover:bg-black/60 text-white font-inter font-medium py-3 px-5 rounded-full transition-all flex items-center gap-2">
                    <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                    </svg>
                    View gallery ({holidayData.mainGallery.length})
                  </div>
                </div>
              </button>
            );
          })()}
        </div>
        
        <!-- Right Images - Horizontal Scroll -->
        <div class="hidden lg:block w-[15vw] relative overflow-x-auto overflow-y-hidden scrollbar-hide flex-shrink-0">
          <div class="flex gap-3 h-full min-h-[600px]">
            {/* First right image (mainGallery[2]) */}
            {holidayData.mainGallery[2] && (() => {
              const imgAttrs = getStrapiImageAttrs(holidayData.mainGallery[2], {
                displayWidth: 300,
                displayHeight: 450,
                fit: 'cover',
                quality: 70,
                sizes: '15vw'
              });
              
              return (
                <button
                  type="button"
                  class="gallery-image w-[15vw] relative overflow-hidden bg-gray-100 group cursor-pointer flex-shrink-0"
                  data-index="2"
                >
                  <img 
                    src={imgAttrs?.src || holidayData.mainGallery[2].url}
                    srcset={imgAttrs?.srcset}
                    sizes={imgAttrs?.sizes}
                    alt={imgAttrs?.alt || holidayData.mainGallery[2].alt || 'Gallery image'}
                    width={imgAttrs?.width}
                    height={imgAttrs?.height}
                    class="w-full h-full min-h-[600px] object-cover group-hover:scale-105 transition-transform duration-500"
                    loading="lazy"
                  />
                  <div class="absolute inset-0 bg-white/40 group-hover:bg-white/20 transition-all duration-300"></div>
                </button>
              );
            })()}
            
            {/* Additional images (mainGallery[3] onwards) */}
            {holidayData.mainGallery.slice(3).map((image, index) => {
              const imgAttrs = getStrapiImageAttrs(image, {
                displayWidth: 300,
                displayHeight: 450,
                fit: 'cover',
                quality: 70,
                sizes: '15vw'
              });
              
              return (
                <button
                  type="button"
                  class="gallery-image w-[15vw] relative overflow-hidden bg-gray-100 group cursor-pointer flex-shrink-0"
                  data-index={index + 3}
                >
                  <img 
                    src={imgAttrs?.src || image.url}
                    srcset={imgAttrs?.srcset}
                    sizes={imgAttrs?.sizes}
                    alt={imgAttrs?.alt || image.alt || `Gallery image ${index + 4}`}
                    width={imgAttrs?.width}
                    height={imgAttrs?.height}
                    class="w-full h-full min-h-[600px] object-cover group-hover:scale-105 transition-transform duration-500"
                    loading="lazy"
                  />
                  <div class="absolute inset-0 bg-white/40 group-hover:bg-white/20 transition-all duration-300"></div>
                </button>
              );
            })}
          </div>
        </div>
      </div>
    </section>
  )}

  <!-- The Tennis Section - Carousel -->
  <section class="w-full bg-gray-50 py-12 sm:py-16 lg:py-20">
    <div class="container mx-auto max-w-[1400px] px-4 sm:px-10">
      <!-- Header -->
      <div class="mb-8 sm:mb-12 text-center">
        <h2 class="text-2xl sm:text-3xl lg:text-4xl font-playfair font-semibold text-gray-900">
          {sectionTitle}
        </h2>
      </div>

      <!-- Carousel Container -->
      <div class="relative">
        <!-- Navigation Arrows -->
        <button 
          id="prevTennisSlide"
          class="hidden lg:flex absolute left-4 top-1/2 transform -translate-y-1/2 z-10 w-12 h-12 bg-[#ad986c] hover:bg-[#8d7a56] rounded-full shadow-lg items-center justify-center transition-all duration-300"
          aria-label="Previous slide"
        >
          <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" stroke="#FFFFFF"/>
          </svg>
        </button>
        
        <button 
          id="nextTennisSlide"
          class="hidden lg:flex absolute right-4 top-1/2 transform -translate-y-1/2 z-10 w-12 h-12 bg-[#ad986c] hover:bg-[#8d7a56] rounded-full shadow-lg items-center justify-center transition-all duration-300"
          aria-label="Next slide"
        >
          <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" stroke="#FFFFFF"/>
          </svg>
        </button>

        <!-- Slides Container -->
        <div class="overflow-x-auto lg:overflow-visible snap-x snap-mandatory lg:snap-none scrollbar-hide">
          <div id="tennisCarousel" class="flex transition-transform duration-500 ease-out gap-6 lg:pl-[calc((100%-900px)/2)]">
            
            {holidayType === 'tennis-holiday' ? (
              <>
                <!-- Tennis Slide 1: Jamie Murray Tennis Programme -->
                <div class="tennis-slide flex-shrink-0 w-[85%] sm:w-[90%] lg:w-[900px] snap-start relative">
                  <div class="bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 h-full">
                    <div class="aspect-video relative overflow-hidden bg-gray-100">
                      <button 
                        type="button"
                        class="lite-youtube-tennis group"
                        data-video-id="5wDDq_iM0xM"
                        aria-label="Play Jamie Murray Tennis Programme video"
                      >
                        <img 
                          src="https://i.ytimg.com/vi/5wDDq_iM0xM/hqdefault.jpg"
                          alt="Jamie Murray Tennis Programme video"
                          loading="lazy"
                          decoding="async"
                          class="absolute inset-0 w-full h-full object-cover"
                        />
                        <span class="lite-youtube__play"></span>
                      </button>
                    </div>
                    <div class="px-4 sm:px-6 lg:px-8 pt-6 sm:pt-8 pb-4 sm:pb-6 lg:pb-8">
                      <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4 sm:mb-6 leading-tight">
                        The Jamie Murray Tennis Programme
                      </h3>
                      <div class="space-y-3">
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>The Tennis Programme</strong> – Curated to make you a more skilled and self assured doubles player. Designed by Jamie Murray.</p>
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Tennis Ability</strong> – This trip is bookable by anyone with a rating of 2-6 in our <a href="#" class="text-[#ad986c] hover:underline">Self Rating Guide</a>.</p>
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Non-Players</strong> – Are welcome. They receive a £200 Discount off the prices listed.</p>
                        <p class="text-base sm:text-lg text-gray-600 font-inter leading-relaxed">No other Discount can be used in conjunction with this £200 Discount.</p>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Tennis Slide 2: A Tennis Holiday in Action -->
                <div class="tennis-slide flex-shrink-0 w-[85%] sm:w-[90%] lg:w-[900px] snap-start relative">
                  <div class="bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 h-full">
                    <div class="aspect-video relative overflow-hidden bg-gray-100">
                      <button 
                        type="button"
                        class="lite-youtube-tennis group"
                        data-video-id="zpshRTMdTxo"
                        aria-label="Play A Tennis Holiday in Action video"
                      >
                        <img 
                          src="https://i.ytimg.com/vi/zpshRTMdTxo/hqdefault.jpg"
                          alt="A Tennis Holiday in Action video"
                          loading="lazy"
                          decoding="async"
                          class="absolute inset-0 w-full h-full object-cover"
                        />
                        <span class="lite-youtube__play"></span>
                      </button>
                    </div>
                    <div class="px-4 sm:px-6 lg:px-8 pt-6 sm:pt-8 pb-4 sm:pb-6 lg:pb-8">
                      <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4 sm:mb-6 leading-tight">
                        A Tennis Holiday in Action
                      </h3>
                      <div class="space-y-3">
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Since 2006</strong> – We've been hosting adult tennis holidays since 2006. Having designed the perfect itinerary, we believe we have a recipe for the most incredible experience!</p>
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Incredible Community</strong> – Our community is truly what sets us apart from the competition. Our unique blend of fun and friendship connects likeminded individuals.</p>
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Rebooking Rate</strong> – With an outstanding rebook rate of 85%, our guests' loyalty speaks for itself. We're committed to creating exceptional tennis holidays that keep guests coming back year after year.</p>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Tennis Slide 3: The Active Away Experience -->
                <div class="tennis-slide flex-shrink-0 w-[85%] sm:w-[90%] lg:w-[900px] snap-start relative">
                  <div class="bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 h-full">
                    <div class="aspect-video relative overflow-hidden bg-gray-100">
                      <img 
                        src="https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/d38de289-0836-4a6b-d3ad-3cdd4aa27000/public?width=900&height=506&fit=cover&format=auto&quality=70"
                        srcset="https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/d38de289-0836-4a6b-d3ad-3cdd4aa27000/public?width=900&height=506&fit=cover&format=auto&quality=70 900w,
                                https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/d38de289-0836-4a6b-d3ad-3cdd4aa27000/public?width=1200&height=675&fit=cover&format=auto&quality=70 1200w"
                        sizes="(max-width: 1024px) 100vw, 900px"
                        alt="Active Away tennis coaching experience"
                        width="900"
                        height="506"
                        class="w-full h-full object-cover"
                        loading="lazy"
                      />
                    </div>
                    <div class="px-4 sm:px-6 lg:px-8 pt-6 sm:pt-8 pb-4 sm:pb-6 lg:pb-8">
                      <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4 sm:mb-6 leading-tight">
                        The Active Away Experience
                      </h3>
                      <div class="space-y-3">
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Our USP</strong> – What sets Active Away apart is our genuine dedication to creating an amazing experience, both on and off the court. From personalised coaching to memorable shared dinners, we're passionate about making your holiday everything you hope for and more.</p>
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Your Tennis</strong> – If for any reason you feel over or under challenged on your holiday from a tennis perspective - please speak to your host and they will accommodate your request to ensure you are appropriately challenged.</p>
                      </div>
                    </div>
                  </div>
                </div>
              </>
            ) : (holidayType === 'padel-tennis-holiday' || holidayType === 'padel-holiday') ? (
              <>
                <!-- Padel Slide 1: A Padel Holiday in Action -->
                <div class="tennis-slide flex-shrink-0 w-[85%] sm:w-[90%] lg:w-[900px] snap-start relative">
                  <div class="bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 h-full">
                    <div class="aspect-video relative overflow-hidden bg-gray-100">
                      <button 
                        type="button"
                        class="lite-youtube-tennis group"
                        data-video-id="afhaHqlnpt8"
                        aria-label="Play A Padel Holiday in Action video"
                      >
                        <img 
                          src="https://i.ytimg.com/vi/afhaHqlnpt8/hqdefault.jpg"
                          alt="A Padel Holiday in Action video"
                          loading="lazy"
                          decoding="async"
                          class="absolute inset-0 w-full h-full object-cover"
                        />
                        <span class="lite-youtube__play"></span>
                      </button>
                    </div>
                    <div class="px-4 sm:px-6 lg:px-8 pt-6 sm:pt-8 pb-4 sm:pb-6 lg:pb-8">
                      <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4 sm:mb-6 leading-tight">
                        A Padel Holiday in Action
                      </h3>
                      <div class="space-y-3">
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed">Our Padel Holidays are fast paced, fun and inclusive! With a jam-packed itinerary designed to ensure you have a brilliant experience the moment you step off the plane.</p>
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed">Our highly trained team are all Padel experts and will take care of every detail. You'll also have a host who is there to take care off all of the off court action!</p>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Padel Slide 2: The Active Away Experience -->
                <div class="tennis-slide flex-shrink-0 w-[85%] sm:w-[90%] lg:w-[900px] snap-start relative">
                  <div class="bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 h-full">
                    <div class="aspect-video relative overflow-hidden bg-gray-100">
                      <img 
                        src="https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/502f3216-9d73-4729-aa02-105a14bd4500/public?width=900&height=506&fit=cover&format=auto&quality=70"
                        srcset="https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/502f3216-9d73-4729-aa02-105a14bd4500/public?width=900&height=506&fit=cover&format=auto&quality=70 900w,
                                https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/502f3216-9d73-4729-aa02-105a14bd4500/public?width=1200&height=675&fit=cover&format=auto&quality=70 1200w"
                        sizes="(max-width: 1024px) 100vw, 900px"
                        alt="Active Away Padel Experience"
                        width="900"
                        height="506"
                        class="w-full h-full object-cover"
                        loading="lazy"
                      />
                    </div>
                    <div class="px-4 sm:px-6 lg:px-8 pt-6 sm:pt-8 pb-4 sm:pb-6 lg:pb-8">
                      <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4 sm:mb-6 leading-tight">
                        The Active Away Experience
                      </h3>
                      <div class="space-y-3">
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Active Away Hosting</strong> – Our hosting is designed to create a supportive and engaging environment, allowing guests to focus on their love for Padel and make lasting memories.</p>
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Impeccable Reviews</strong> – We so proud of our reviews for our Padel Holidays. Over 94% of people said they would rebook!</p>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Padel Slide 3: The Padel Programme -->
                <div class="tennis-slide flex-shrink-0 w-[85%] sm:w-[90%] lg:w-[900px] snap-start relative">
                  <div class="bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 h-full">
                    <div class="aspect-video relative overflow-hidden bg-gray-100">
                      <img 
                        src="https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/2aae9ad3-9382-43cd-3528-904031775d00/public?width=900&height=506&fit=cover&format=auto&quality=70"
                        srcset="https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/2aae9ad3-9382-43cd-3528-904031775d00/public?width=900&height=506&fit=cover&format=auto&quality=70 900w,
                                https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/2aae9ad3-9382-43cd-3528-904031775d00/public?width=1200&height=675&fit=cover&format=auto&quality=70 1200w"
                        sizes="(max-width: 1024px) 100vw, 900px"
                        alt="Padel Programme"
                        width="900"
                        height="506"
                        class="w-full h-full object-cover"
                        loading="lazy"
                      />
                    </div>
                    <div class="px-4 sm:px-6 lg:px-8 pt-6 sm:pt-8 pb-4 sm:pb-6 lg:pb-8">
                      <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4 sm:mb-6 leading-tight">
                        The Padel Programme
                      </h3>
                      <div class="space-y-3">
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Spanish Programme</strong> – Our programme has been designed with our partners Game4Padel in Spain. Curated by some highly qualified PadelMBA coaches - it's perfect for all standards of Padel.</p>
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Appropriately Pitched</strong> – We are acutely aware of the wide variety of Padel abilities. We will ensure you are matched and challenges to your level. If at any moment you feel over or under challenged - please inform your host.</p>
                      </div>
                    </div>
                  </div>
                </div>
              </>
            ) : holidayType === 'pickleball-holiday' ? (
              <>
                <!-- Pickleball Slide 1: The Pickleball Experience -->
                <div class="tennis-slide flex-shrink-0 w-[85%] sm:w-[90%] lg:w-[900px] snap-start relative">
                  <div class="bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 h-full">
                    <div class="aspect-video relative overflow-hidden bg-gray-100">
                      <button 
                        type="button"
                        class="lite-youtube-tennis group"
                        data-video-id="Htz6SiJx0mc"
                        aria-label="Play The Pickleball Experience video"
                      >
                        <img 
                          src="https://i.ytimg.com/vi/Htz6SiJx0mc/hqdefault.jpg"
                          alt="The Pickleball Experience video"
                          loading="lazy"
                          decoding="async"
                          class="absolute inset-0 w-full h-full object-cover"
                        />
                        <span class="lite-youtube__play"></span>
                      </button>
                    </div>
                    <div class="px-4 sm:px-6 lg:px-8 pt-6 sm:pt-8 pb-4 sm:pb-6 lg:pb-8">
                      <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4 sm:mb-6 leading-tight">
                        The Pickleball Experience
                      </h3>
                      <div class="space-y-3">
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Pickleball Programme</strong> – Our Pickleball programme is designed to cover all facets of the game from dinking to tactical intentions.</p>
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Appropriately Pitched</strong> – We are acutely aware of the wide variety of Pickleball abilities. We will ensure you are matched and challenges to your level. If at any moment you feel over or under challenged - please inform your host.</p>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Pickleball Slide 2: The Active Away Experience -->
                <div class="tennis-slide flex-shrink-0 w-[85%] sm:w-[90%] lg:w-[900px] snap-start relative">
                  <div class="bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 h-full">
                    <div class="aspect-video relative overflow-hidden bg-gray-100">
                      <img 
                        src="https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/6a5a3e83-5ff0-4c2c-7270-871aa6614900/public?width=900&height=506&fit=cover&format=auto&quality=70"
                        srcset="https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/6a5a3e83-5ff0-4c2c-7270-871aa6614900/public?width=900&height=506&fit=cover&format=auto&quality=70 900w,
                                https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/6a5a3e83-5ff0-4c2c-7270-871aa6614900/public?width=1200&height=675&fit=cover&format=auto&quality=70 1200w"
                        sizes="(max-width: 1024px) 100vw, 900px"
                        alt="Active Away Pickleball Experience"
                        width="900"
                        height="506"
                        class="w-full h-full object-cover"
                        loading="lazy"
                      />
                    </div>
                    <div class="px-4 sm:px-6 lg:px-8 pt-6 sm:pt-8 pb-4 sm:pb-6 lg:pb-8">
                      <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4 sm:mb-6 leading-tight">
                        The Active Away Experience
                      </h3>
                      <div class="space-y-3">
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Active Away Hosting</strong> – Our hosting is designed to create a supportive and engaging environment, allowing guests to focus on their love for Pickleball and make lasting memories.</p>
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Impeccable Reviews</strong> – We so proud of our reviews for our Pickleball Holidays.</p>
                      </div>
                    </div>
                  </div>
                </div>
              </>
            ) : holidayType === 'tennis-clinic' ? (
              <>
                {/* Tennis Clinic Slides - Different content based on title */}
                {holidayData.title?.toLowerCase().includes('tennis') ? (
                  <>
                    <!-- Tennis Clinic Slide 1: A Tennis Clinic in Action -->
                    <div class="tennis-slide flex-shrink-0 w-[85%] sm:w-[90%] lg:w-[900px] snap-start relative">
                      <div class="bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 h-full">
                        <div class="aspect-video relative overflow-hidden bg-gray-100">
                          <button 
                            type="button"
                            class="lite-youtube-tennis group"
                            data-video-id="v8uCGQFr8kU"
                            aria-label="Play A Tennis Clinic in Action video"
                          >
                            <img 
                              src="https://i.ytimg.com/vi/v8uCGQFr8kU/hqdefault.jpg"
                              alt="A Tennis Clinic in Action video"
                              loading="lazy"
                              decoding="async"
                              class="absolute inset-0 w-full h-full object-cover"
                            />
                            <span class="lite-youtube__play"></span>
                          </button>
                        </div>
                        <div class="px-4 sm:px-6 lg:px-8 pt-6 sm:pt-8 pb-4 sm:pb-6 lg:pb-8">
                          <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4 sm:mb-6 leading-tight">
                            A Tennis Clinic in Action
                          </h3>
                          <div class="space-y-3">
                            <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>97% Would Recommend</strong> – We asked our tennis clinic attendees 'Would you recommend us on a scale of 1-10.' The average score was 9.69/10.</p>
                            <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Prestigious Venues</strong> – We are fortunate to have a fantastic relationship with David Lloyd Leisure as well as many other exceptional venues across the UK.</p>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- Tennis Clinic Slide 2: The Jamie Murray Tennis Programme -->
                    <div class="tennis-slide flex-shrink-0 w-[85%] sm:w-[90%] lg:w-[900px] snap-start relative">
                      <div class="bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 h-full">
                        <div class="aspect-video relative overflow-hidden bg-gray-100">
                          <button 
                            type="button"
                            class="lite-youtube-tennis group"
                            data-video-id="licVtR6T1cw"
                            aria-label="Play The Jamie Murray Tennis Programme video"
                          >
                            <img 
                              src="https://i.ytimg.com/vi/licVtR6T1cw/hqdefault.jpg"
                              alt="The Jamie Murray Tennis Programme video"
                              loading="lazy"
                              decoding="async"
                              class="absolute inset-0 w-full h-full object-cover"
                            />
                            <span class="lite-youtube__play"></span>
                          </button>
                        </div>
                        <div class="px-4 sm:px-6 lg:px-8 pt-6 sm:pt-8 pb-4 sm:pb-6 lg:pb-8">
                          <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4 sm:mb-6 leading-tight">
                            The Jamie Murray Tennis Programme
                          </h3>
                          <div class="space-y-3">
                            <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>The Tennis Programme</strong> – Curated to make you a more skilled and self assured doubles player. Designed by Jamie Murray.</p>
                            <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Tennis Ability</strong> – Our clinics are bookable by anyone with a rating of 2-6 in our Self Rating Guide.</p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </>
                ) : (
                  <>
                    <!-- Padel Clinic Slide 1: The Active Away Experience -->
                    <div class="tennis-slide flex-shrink-0 w-[85%] sm:w-[90%] lg:w-[900px] snap-start relative">
                      <div class="bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 h-full">
                        <div class="aspect-video relative overflow-hidden bg-gray-100">
                          <img 
                            src="https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/dd0956d8-0792-49f6-a44d-abca1219b100/public?width=900&height=506&fit=cover&format=auto&quality=70"
                            srcset="https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/dd0956d8-0792-49f6-a44d-abca1219b100/public?width=900&height=506&fit=cover&format=auto&quality=70 900w,
                                    https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/dd0956d8-0792-49f6-a44d-abca1219b100/public?width=1200&height=675&fit=cover&format=auto&quality=70 1200w"
                            sizes="(max-width: 1024px) 100vw, 900px"
                            alt="Active Away Padel Experience"
                            width="900"
                            height="506"
                            class="w-full h-full object-cover"
                            loading="lazy"
                          />
                        </div>
                        <div class="px-4 sm:px-6 lg:px-8 pt-6 sm:pt-8 pb-4 sm:pb-6 lg:pb-8">
                          <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4 sm:mb-6 leading-tight">
                            The Active Away Experience
                          </h3>
                          <div class="space-y-3">
                            <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Hosting</strong> – Your clinic will be hosted by our highly trained team - who are on hand at all times to ensure you have a fantastic experience.</p>
                            <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Your Padel</strong> – If for any reason you feel over or under challenged on your clinic from a Padel perspective - please speak to your host and they will accommodate your request to ensure you are appropriately challenged.</p>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- Padel Clinic Slide 2: The Padel Programme -->
                    <div class="tennis-slide flex-shrink-0 w-[85%] sm:w-[90%] lg:w-[900px] snap-start relative">
                      <div class="bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 h-full">
                        <div class="aspect-video relative overflow-hidden bg-gray-100">
                          <img 
                            src="https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/955a374e-434b-49df-8900-0fb7867ddf00/public?width=900&height=506&fit=cover&format=auto&quality=70"
                            srcset="https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/955a374e-434b-49df-8900-0fb7867ddf00/public?width=900&height=506&fit=cover&format=auto&quality=70 900w,
                                    https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/955a374e-434b-49df-8900-0fb7867ddf00/public?width=1200&height=675&fit=cover&format=auto&quality=70 1200w"
                            sizes="(max-width: 1024px) 100vw, 900px"
                            alt="Padel Programme"
                            width="900"
                            height="506"
                            class="w-full h-full object-cover"
                            loading="lazy"
                          />
                        </div>
                        <div class="px-4 sm:px-6 lg:px-8 pt-6 sm:pt-8 pb-4 sm:pb-6 lg:pb-8">
                          <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4 sm:mb-6 leading-tight">
                            The Padel Programme
                          </h3>
                          <div class="space-y-3">
                            <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Designed in Spain</strong> – We've created a programme in partnership with the Game4Padel team in Spain. After countless iterations, we believe our programme will teach you all of the facets to make you a more competent padel player.</p>
                            <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Padel Standards</strong> – We've got different levels of clinics to choose from. Have a look through our padel rating guide to see where you match up.</p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </>
                )}
              </>
            ) : holidayType === 'junior-tennis-camp' ? (
              <>
                <!-- Junior Camp Slide 1: The Jamie Murray Tennis Programme -->
                <div class="tennis-slide flex-shrink-0 w-[85%] sm:w-[90%] lg:w-[900px] snap-start relative">
                  <div class="bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 h-full">
                    <div class="aspect-video relative overflow-hidden bg-gray-100">
                      <button 
                        type="button"
                        class="lite-youtube-tennis group"
                        data-video-id="licVtR6T1cw"
                        aria-label="Play The Jamie Murray Tennis Programme video"
                      >
                        <img 
                          src="https://i.ytimg.com/vi/licVtR6T1cw/hqdefault.jpg"
                          alt="The Jamie Murray Tennis Programme video"
                          loading="lazy"
                          decoding="async"
                          class="absolute inset-0 w-full h-full object-cover"
                        />
                        <span class="lite-youtube__play"></span>
                      </button>
                    </div>
                    <div class="px-4 sm:px-6 lg:px-8 pt-6 sm:pt-8 pb-4 sm:pb-6 lg:pb-8">
                      <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4 sm:mb-6 leading-tight">
                        The Jamie Murray Tennis Programme
                      </h3>
                      <div class="space-y-3">
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Our Tennis Programme</strong> – Is designed by Jamie Murray! With 15 hours of fun, high quality coaching. Included in the coaching is fun competitions as well as coach challenges. It's a market leading programme.</p>
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Tennis Ability</strong> – This Junior Tennis Camp is open to all standards of play, providing they are not a complete beginner. We manage this very carefully with our coaching team.</p>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Junior Camp Slide 2: Fun, friends and tennis -->
                <div class="tennis-slide flex-shrink-0 w-[85%] sm:w-[90%] lg:w-[900px] snap-start relative">
                  <div class="bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 h-full">
                    <div class="aspect-video relative overflow-hidden bg-gray-100">
                      <img 
                        src="https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/55e54814-a9bc-47f6-bff7-8221b6ac0e00/public?width=900&height=506&fit=cover&format=auto&quality=70"
                        srcset="https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/55e54814-a9bc-47f6-bff7-8221b6ac0e00/public?width=900&height=506&fit=cover&format=auto&quality=70 900w,
                                https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/55e54814-a9bc-47f6-bff7-8221b6ac0e00/public?width=1200&height=675&fit=cover&format=auto&quality=70 1200w"
                        sizes="(max-width: 1024px) 100vw, 900px"
                        alt="Junior Tennis Camp - Fun, friends and tennis"
                        width="900"
                        height="506"
                        class="w-full h-full object-cover"
                        loading="lazy"
                      />
                    </div>
                    <div class="px-4 sm:px-6 lg:px-8 pt-6 sm:pt-8 pb-4 sm:pb-6 lg:pb-8">
                      <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4 sm:mb-6 leading-tight">
                        Fun, friends and tennis
                      </h3>
                      <div class="space-y-3">
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Expert Coaches</strong> – Our coaches are expertly trained in ensuring every attendee leaves feeling great about their game!</p>
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Safety First</strong> – Fully licensed, DBS checked and insured - there's nothing more important to our team than the safety of your children.</p>
                      </div>
                    </div>
                  </div>
                </div>
              </>
            ) : holidayType === 'play-and-watch' ? (
              <>
                <!-- Play & Watch Slide 1: Play & Watch Events -->
                <div class="tennis-slide flex-shrink-0 w-[85%] sm:w-[90%] lg:w-[900px] snap-start relative">
                  <div class="bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 h-full">
                    <div class="aspect-video relative overflow-hidden bg-gray-100">
                      <button 
                        type="button"
                        class="lite-youtube-tennis group"
                        data-video-id="HBHf1GZIq_k"
                        aria-label="Play Play & Watch Events video"
                      >
                        <img 
                          src="https://i.ytimg.com/vi/HBHf1GZIq_k/hqdefault.jpg"
                          alt="Play & Watch Events video"
                          loading="lazy"
                          decoding="async"
                          class="absolute inset-0 w-full h-full object-cover"
                        />
                        <span class="lite-youtube__play"></span>
                      </button>
                    </div>
                    <div class="px-4 sm:px-6 lg:px-8 pt-6 sm:pt-8 pb-4 sm:pb-6 lg:pb-8">
                      <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4 sm:mb-6 leading-tight">
                        Play & Watch Events
                      </h3>
                      <div class="space-y-3">
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>The Tennis</strong> – Our programme is designed to make you a more skilled and self assured doubles player.</p>
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Watch</strong> – Experience the thrill of watching the world's greatest tennis players compete—nothing compares to the energy and excitement of live matches!</p>
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>The City</strong> – Our Play & Watch events are normally set in vibrant cities, giving you the chance to explore their culture, cuisine, and charm alongside your love for tennis.</p>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Play & Watch Slide 2: The Active Away Experience -->
                <div class="tennis-slide flex-shrink-0 w-[85%] sm:w-[90%] lg:w-[900px] snap-start relative">
                  <div class="bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 h-full">
                    <div class="aspect-video relative overflow-hidden bg-gray-100">
                      <img 
                        src="https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/ccbd3495-41c9-4af3-755e-260071f95e00/public?width=900&height=506&fit=cover&format=auto&quality=70"
                        srcset="https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/ccbd3495-41c9-4af3-755e-260071f95e00/public?width=900&height=506&fit=cover&format=auto&quality=70 900w,
                                https://activeaway.com/cdn-cgi/imagedelivery/-aT8Z2F9gGvZ9fdofZcCaQ/ccbd3495-41c9-4af3-755e-260071f95e00/public?width=1200&height=675&fit=cover&format=auto&quality=70 1200w"
                        sizes="(max-width: 1024px) 100vw, 900px"
                        alt="The Active Away Experience"
                        width="900"
                        height="506"
                        class="w-full h-full object-cover"
                        loading="lazy"
                      />
                    </div>
                    <div class="px-4 sm:px-6 lg:px-8 pt-6 sm:pt-8 pb-4 sm:pb-6 lg:pb-8">
                      <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4 sm:mb-6 leading-tight">
                        The Active Away Experience
                      </h3>
                      <div class="space-y-3">
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Our USP</strong> – What sets Active Away apart is our genuine dedication to creating an amazing experience, both on and off the court. From personalised coaching to memorable shared dinners, we're passionate about making your holiday everything you hope for and more.</p>
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Your Tennis</strong> – If for any reason you feel over or under challenged on your holiday from a tennis perspective - please speak to your host and they will accommodate your request to ensure you are appropriately challenged.</p>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Play & Watch Slide 3: The Jamie Murray Tennis Programme -->
                <div class="tennis-slide flex-shrink-0 w-[85%] sm:w-[90%] lg:w-[900px] snap-start relative">
                  <div class="bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 h-full">
                    <div class="aspect-video relative overflow-hidden bg-gray-100">
                      <button 
                        type="button"
                        class="lite-youtube-tennis group"
                        data-video-id="licVtR6T1cw"
                        aria-label="Play The Jamie Murray Tennis Programme video"
                      >
                        <img 
                          src="https://i.ytimg.com/vi/licVtR6T1cw/hqdefault.jpg"
                          alt="The Jamie Murray Tennis Programme video"
                          loading="lazy"
                          decoding="async"
                          class="absolute inset-0 w-full h-full object-cover"
                        />
                        <span class="lite-youtube__play"></span>
                      </button>
                    </div>
                    <div class="px-4 sm:px-6 lg:px-8 pt-6 sm:pt-8 pb-4 sm:pb-6 lg:pb-8">
                      <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4 sm:mb-6 leading-tight">
                        The Jamie Murray Tennis Programme
                      </h3>
                      <div class="space-y-3">
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>The Tennis Programme</strong> – Curated to make you a more skilled and self assured doubles player. Designed by Jamie Murray.</p>
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Tennis Ability</strong> – This trip is bookable by anyone with a rating of 2-6 in our <a href="#" class="text-[#ad986c] hover:underline">Self Rating Guide</a>.</p>
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Non-Players</strong> – Are welcome. They receive a £200 Discount off the prices listed.</p>
                        <p class="text-base sm:text-lg text-gray-600 font-inter leading-relaxed">No other Discount can be used in conjunction with this £200 Discount.</p>
                      </div>
                    </div>
                  </div>
                </div>
              </>
            ) : holidayType === 'ski-holiday' ? (
              <>
                <!-- Ski Slide 1: The Italian Ski Experience -->
                <div class="tennis-slide flex-shrink-0 w-[85%] sm:w-[90%] lg:w-[900px] snap-start relative">
                  <div class="bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 h-full">
                    <div class="aspect-video relative overflow-hidden bg-gray-100">
                      <button 
                        type="button"
                        class="lite-youtube-tennis group"
                        data-video-id="V0mYYztYwc0"
                        aria-label="Play The Italian Ski Experience video"
                      >
                        <img 
                          src="https://i.ytimg.com/vi/V0mYYztYwc0/hqdefault.jpg"
                          alt="The Italian Ski Experience video"
                          loading="lazy"
                          decoding="async"
                          class="absolute inset-0 w-full h-full object-cover"
                        />
                        <span class="lite-youtube__play"></span>
                      </button>
                    </div>
                    <div class="px-4 sm:px-6 lg:px-8 pt-6 sm:pt-8 pb-4 sm:pb-6 lg:pb-8">
                      <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4 sm:mb-6 leading-tight">
                        The Italian Ski Experience
                      </h3>
                      <div class="space-y-3">
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed">Our trips to Italy were inspired by our Director Matt's lifelong love of skiing. He fell so hard for Alagna that he moved there, and now he's eager to share this beautiful, picturesque village with you. Expect quiet charm, breathtaking Alpine views and truly exceptional skiing across varied terrain. Join us and experience Alagna the way a local does.</p>
                      </div>
                    </div>
                  </div>
                </div>
              </>
            ) : holidayType === 'school-tennis-tour' ? (
              <>
                <!-- School Tour Slide 1: The Jamie Murray Tennis Programme -->
                <div class="tennis-slide flex-shrink-0 w-[85%] sm:w-[90%] lg:w-[900px] snap-start relative">
                  <div class="bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 h-full">
                    <div class="aspect-video relative overflow-hidden bg-gray-100">
                      <button 
                        type="button"
                        class="lite-youtube-tennis group"
                        data-video-id="licVtR6T1cw"
                        aria-label="Play The Jamie Murray Tennis Programme video"
                      >
                        <img 
                          src="https://i.ytimg.com/vi/licVtR6T1cw/hqdefault.jpg"
                          alt="The Jamie Murray Tennis Programme video"
                          loading="lazy"
                          decoding="async"
                          class="absolute inset-0 w-full h-full object-cover"
                        />
                        <span class="lite-youtube__play"></span>
                      </button>
                    </div>
                    <div class="px-4 sm:px-6 lg:px-8 pt-6 sm:pt-8 pb-4 sm:pb-6 lg:pb-8">
                      <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4 sm:mb-6 leading-tight">
                        The Jamie Murray Tennis Programme
                      </h3>
                      <div class="space-y-3">
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>The Tennis Programme</strong> – Our Jamie Murray programme is designed to ensure all attendees have a brilliant experience.</p>
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Tennis Ability</strong> – We will ensure each child is challenged appropriately.</p>
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Teachers</strong> – We can package up our school tours where the teachers are part of the coaching team or not - it's completely up-to you!</p>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- School Tour Slide 2: The Active Away Experience -->
                <div class="tennis-slide flex-shrink-0 w-[85%] sm:w-[90%] lg:w-[900px] snap-start relative">
                  <div class="bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 h-full">
                    <div class="aspect-video relative overflow-hidden bg-gray-100">
                      <img 
                        src="https://imagedelivery.net/-aT8Z2F9gGvZ9fdofZcCaQ/activeaway.com/Active-Away-School-Tennis-Tours-1.jpg/public"
                        alt="The Active Away School Tennis Tour Experience"
                        width="900"
                        height="506"
                        class="w-full h-full object-cover"
                        loading="lazy"
                      />
                    </div>
                    <div class="px-4 sm:px-6 lg:px-8 pt-6 sm:pt-8 pb-4 sm:pb-6 lg:pb-8">
                      <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4 sm:mb-6 leading-tight">
                        The Active Away Experience
                      </h3>
                      <div class="space-y-3">
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Our USP</strong> – What sets Active Away apart is our genuine dedication to creating an amazing experience, both on and off the court. From personalised coaching to memorable shared dinners, we're passionate about making each child never forget their school tour.</p>
                        <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed"><strong>Fully licensed and insured</strong> – We've been around since 2006 and have dotted the i's and crossed the t's to ensure a safe and secure environment.</p>
                      </div>
                    </div>
                  </div>
                </div>
              </>
            ) : null}

          </div>
        </div>

        <!-- Pagination Dots - Desktop Only -->
        <div class="hidden lg:flex justify-center items-center gap-2 mt-8">
          <button class="tennis-dot w-8 h-2 rounded-full bg-[#ad986c] transition-all duration-300" data-slide="0" aria-label="Go to slide 1"></button>
          {carouselSlideCount >= 2 && (
            <button class="tennis-dot w-2 h-2 rounded-full bg-gray-300 transition-all duration-300" data-slide="1" aria-label="Go to slide 2"></button>
          )}
          {carouselSlideCount >= 3 && (
            <button class="tennis-dot w-2 h-2 rounded-full bg-gray-300 transition-all duration-300" data-slide="2" aria-label="Go to slide 3"></button>
          )}
        </div>
      </div>
    </div>
  </section>

  <!-- Facilities/Resort Information Section with Tabs -->
  <section id="resort" class="w-full bg-white py-12 sm:py-16 lg:py-20 scroll-mt-20">
    <div class="container mx-auto max-w-[1400px] px-4 sm:px-10">
      
      <!-- Section Heading -->
      <h2 class="text-2xl sm:text-3xl lg:text-4xl font-playfair font-semibold text-gray-900 mb-8 text-center">
        {(holidayType === 'tennis-clinic' || holidayType === 'junior-tennis-camp') ? 'Venue Information' : 'Resort Information'}
      </h2>

      <!-- Tab Navigation -->
      <div class="border-b border-gray-200 mb-8">
        <div class="flex flex-wrap gap-2 sm:gap-4 justify-center">
          {/* Tennis Clinic and Junior Camp shows only: Getting There, Amenities */}
          {(holidayType === 'tennis-clinic' || holidayType === 'junior-tennis-camp') ? (
            <>
              {holidayData.gettingThere && (
                <button class="facility-tab active px-6 py-3 text-sm font-medium font-inter whitespace-nowrap transition-all relative inline-flex items-center gap-2" data-tab="getting-there">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                  </svg>
                  Getting There
                </button>
              )}
              {holidayData.facilities && holidayData.facilities.length > 0 && (
                <button class={`facility-tab px-6 py-3 text-sm font-medium font-inter whitespace-nowrap transition-all relative inline-flex items-center gap-2 ${!holidayData.gettingThere ? 'active' : ''}`} data-tab="facilities">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                  </svg>
                  Amenities
                </button>
              )}
            </>
          ) : (
            <>
              {/* Play and Watch: Event Info tab first */}
              {holidayType === 'play-and-watch' && (holidayData.theEvent || holidayData.whereWeStay || holidayData.howWeGetAround) && (
                <button class="facility-tab active px-6 py-3 text-sm font-medium font-inter whitespace-nowrap transition-all relative inline-flex items-center gap-2" data-tab="event-info">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect width="18" height="18" x="3" y="4" rx="2" ry="2"/>
                    <line x1="16" x2="16" y1="2" y2="6"/>
                    <line x1="8" x2="8" y1="2" y2="6"/>
                    <line x1="3" x2="21" y1="10" y2="10"/>
                  </svg>
                  Event Info
                </button>
              )}
              {(holidayData.restaurants || holidayData.restaurantInformation) && (
                <button class={`facility-tab ${holidayType !== 'play-and-watch' ? 'active' : ''} px-6 py-3 text-sm font-medium font-inter whitespace-nowrap transition-all relative inline-flex items-center gap-2`} data-tab="restaurants">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/>
                    <path d="M7 2v20"/>
                    <path d="M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/>
                  </svg>
                  {holidayType === 'school-tennis-tour' ? 'Restaurants' : 'Restaurants & bars'}
                </button>
              )}
              {(holidayData.boardBasis || holidayData.boardBasisIncluded || (holidayType === 'school-tennis-tour' && holidayData.boardBasisInfo)) && (
                <button class="facility-tab px-6 py-3 text-sm font-medium font-inter whitespace-nowrap transition-all relative inline-flex items-center gap-2" data-tab="board">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" />
                  </svg>
                  Board
                </button>
              )}
              {(holidayData.setting || holidayData.settingDescription) && (
                <button class="facility-tab px-6 py-3 text-sm font-medium font-inter whitespace-nowrap transition-all relative inline-flex items-center gap-2" data-tab="setting">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                  </svg>
                  Setting
                </button>
              )}
              {(holidayData.tennisCourts || (holidayType === 'school-tennis-tour' && holidayData.tennisCourtsInfo)) && holidayType !== 'play-and-watch' && (
                <button class="facility-tab px-6 py-3 text-sm font-medium font-inter whitespace-nowrap transition-all relative inline-flex items-center gap-2" data-tab="tennis">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z"/>
                    <path d="M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z"/>
                    <path d="M16 17h4"/>
                    <path d="M4 13h4"/>
                  </svg>
                  {courtsLabel}
                </button>
              )}
              {holidayData.facilities && holidayData.facilities.length > 0 && (
                <button class="facility-tab px-6 py-3 text-sm font-medium font-inter whitespace-nowrap transition-all relative inline-flex items-center gap-2" data-tab="facilities">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                  </svg>
                  Amenities
                </button>
              )}
              {holidayData.topTips && (
                <button class="facility-tab px-6 py-3 text-sm font-medium font-inter whitespace-nowrap transition-all relative inline-flex items-center gap-2" data-tab="tips">
                  <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                  </svg>
                  Top Tips
                </button>
              )}
            </>
          )}
        </div>
      </div>

      <!-- Tab Content - Full Width -->
      <div class="w-full">
        {/* Getting There tab - for tennis-clinic and junior-tennis-camp */}
        {holidayData.gettingThere && (
          <div class={`facility-tab-content ${(holidayType === 'tennis-clinic' || holidayType === 'junior-tennis-camp') ? 'active' : 'hidden'}`} data-tab-content="getting-there">
            <div class="prose max-w-none font-inter" set:html={holidayData.gettingThere.startsWith('<') ? holidayData.gettingThere : `<p>${holidayData.gettingThere}</p>`}></div>
          </div>
        )}

        {/* Event Info tab - for play-and-watch */}
        {holidayType === 'play-and-watch' && (holidayData.theEvent || holidayData.whereWeStay || holidayData.howWeGetAround) && (
          <div class="facility-tab-content active" data-tab-content="event-info">
            {holidayData.theEvent && (
              <div class="mb-8">
                <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4">The Event</h3>
                <div class="prose max-w-none font-inter" set:html={marked.parse(holidayData.theEvent || '')}></div>
              </div>
            )}
            {holidayData.whereWeStay && (
              <div class={`${holidayData.theEvent ? 'mt-8 pt-8 border-t border-gray-200' : ''}`}>
                <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4">Where We Stay</h3>
                <div class="prose max-w-none font-inter" set:html={marked.parse(holidayData.whereWeStay || '')}></div>
              </div>
            )}
            {holidayData.howWeGetAround && (
              <div class={`${(holidayData.theEvent || holidayData.whereWeStay) ? 'mt-8 pt-8 border-t border-gray-200' : ''}`}>
                <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4">How We Get Around</h3>
                <div class="prose max-w-none font-inter" set:html={marked.parse(holidayData.howWeGetAround || '')}></div>
              </div>
            )}
          </div>
        )}

        {(holidayData.restaurants || holidayData.restaurantInformation) && (
          <div class={`facility-tab-content ${(holidayType !== 'tennis-clinic' && holidayType !== 'play-and-watch') ? 'active' : 'hidden'}`} data-tab-content="restaurants">
            <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4">Restaurants</h3>
            <div class="prose max-w-none font-inter" set:html={marked.parse((holidayType === 'ski-holiday' ? holidayData.restaurantInformation : holidayData.restaurants) || '')}></div>
            {holidayType !== 'school-tennis-tour' && (holidayData.bars || holidayData.barInformation) && (
              <div class="mt-8 pt-8 border-t border-gray-200">
                <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-4">Bars</h3>
                <div class="prose max-w-none font-inter" set:html={marked.parse((holidayType === 'ski-holiday' ? holidayData.barInformation : holidayData.bars) || '')}></div>
              </div>
            )}
          </div>
        )}

        {(holidayData.boardBasis || holidayData.boardBasisIncluded || (holidayType === 'school-tennis-tour' && holidayData.boardBasisInfo)) && (
          <div class="facility-tab-content hidden" data-tab-content="board">
            <div class="prose max-w-none font-inter" set:html={marked.parse(
              (holidayType === 'school-tennis-tour' ? holidayData.boardBasisInfo :
              (holidayType === 'play-and-watch' || holidayType === 'ski-holiday') ? holidayData.boardBasisIncluded :
              holidayData.boardBasis) || ''
            )}></div>
          </div>
        )}

        {(holidayData.setting || holidayData.settingDescription) && (
          <div class="facility-tab-content hidden" data-tab-content="setting">
            <div class="prose max-w-none font-inter" set:html={marked.parse((holidayType === 'play-and-watch' || holidayType === 'ski-holiday' ? holidayData.settingDescription : holidayData.setting) || '')}></div>
          </div>
        )}

        {(holidayData.tennisCourts || (holidayType === 'school-tennis-tour' && holidayData.tennisCourtsInfo)) && (
          <div class="facility-tab-content hidden" data-tab-content="tennis">
            <div class="prose max-w-none font-inter" set:html={marked.parse((holidayType === 'school-tennis-tour' ? holidayData.tennisCourtsInfo : holidayData.tennisCourts) || '')}></div>
          </div>
        )}

        {holidayData.facilities && holidayData.facilities.length > 0 && (
          <div class="facility-tab-content hidden" data-tab-content="facilities">
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
              {holidayData.facilities.filter(f => f.included !== false).map((facility) => (
                <div class="flex items-center gap-3">
                  <svg class="w-5 h-5 text-[#ad986c] flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                  </svg>
                  <span class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed">{facility.item || facility.text || facility.title}</span>
                </div>
              ))}
            </div>
            {holidayData.facilitiesExtraInfo && (
              <p class="text-sm text-gray-600 font-inter mt-6 pt-6 border-t border-gray-200">{holidayData.facilitiesExtraInfo}</p>
            )}
          </div>
        )}

        {holidayData.topTips && (
          <div class="facility-tab-content hidden" data-tab-content="tips">
            <div class="prose max-w-none font-inter" set:html={marked.parse(holidayData.topTips || '')}></div>
          </div>
        )}
      </div>
    </div>
  </section>

  <!-- What's Included/Not Included Section -->
  {(holidayData.whatsIncluded.length > 0 || holidayData.whatsNotIncluded.length > 0) && (
    <section class="w-full bg-gray-50 py-12 sm:py-16 lg:py-20 border-t border-gray-200">
      <div class="container mx-auto max-w-[1400px] px-4 sm:px-10">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
          
          <!-- Left: Images -->
          <div class="relative h-[400px] sm:h-[500px]">
            <div class="absolute top-0 right-0 w-[75%] h-[85%] rounded-3xl overflow-hidden shadow-xl">
              {(holidayData.tripImages?.[0] || holidayData.mainGallery[6]) && (() => {
                const image = holidayData.tripImages?.[0] || holidayData.mainGallery[6];
                const imgAttrs = getStrapiImageAttrs(image, {
                  displayWidth: 600,
                  displayHeight: 450,
                  fit: 'cover',
                  quality: 70,
                  sizes: '(max-width: 1024px) 75vw, 600px'
                });
                
                return (
                  <img 
                    src={imgAttrs?.src || image.url}
                    srcset={imgAttrs?.srcset}
                    sizes={imgAttrs?.sizes}
                    alt={imgAttrs?.alt || image.alt || 'Resort amenities'}
                    width={imgAttrs?.width}
                    height={imgAttrs?.height}
                    class="w-full h-full object-cover"
                    loading="lazy"
                  />
                );
              })()}
            </div>
            
            <div class="absolute bottom-0 left-0 w-[60%] h-[65%] rounded-3xl overflow-hidden shadow-2xl border-4 border-white">
              {(holidayData.tripImages?.[1] || holidayData.mainGallery[7]) && (() => {
                const image = holidayData.tripImages?.[1] || holidayData.mainGallery[7];
                const imgAttrs = getStrapiImageAttrs(image, {
                  displayWidth: 500,
                  displayHeight: 375,
                  fit: 'cover',
                  quality: 70,
                  sizes: '(max-width: 1024px) 60vw, 500px'
                });
                
                return (
                  <img 
                    src={imgAttrs?.src || image.url}
                    srcset={imgAttrs?.srcset}
                    sizes={imgAttrs?.sizes}
                    alt={imgAttrs?.alt || image.alt || 'Holiday experience'}
                    width={imgAttrs?.width}
                    height={imgAttrs?.height}
                    class="w-full h-full object-cover"
                    loading="lazy"
                  />
                );
              })()}
            </div>
          </div>
          
          <!-- Right: Content -->
          <div class="space-y-8">
            {holidayData.whatsIncluded.length > 0 && (
              <div>
                <h3 class="text-2xl sm:text-3xl lg:text-4xl font-playfair font-semibold text-gray-900 mb-6">
                  What's Included
                </h3>
                <div class="space-y-3">
                  {holidayData.whatsIncluded.filter(f => f.included !== false).map((item) => (
                    <div class="flex items-start gap-3">
                      <svg class="w-6 h-6 text-green-600 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                      </svg>
                      <span class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed">{item.item || item.text || item.title}</span>
                    </div>
                  ))}
                </div>
              </div>
            )}
            
            {holidayData.whatsNotIncluded.length > 0 && (
              <div class="pt-8 border-t border-gray-300">
                <h3 class="text-2xl sm:text-3xl lg:text-4xl font-playfair font-semibold text-gray-900 mb-6">
                  What's Not Included
                </h3>
                <div class="space-y-3">
                  {holidayData.whatsNotIncluded.filter(f => f.included !== false).map((item) => (
                    <div class="flex items-start gap-3">
                      <svg class="w-6 h-6 text-red-600 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
                      </svg>
                      <span class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed">{item.item || item.text || item.title}</span>
                    </div>
                  ))}
                </div>
              </div>
            )}
          </div>
          
        </div>
      </div>
    </section>
  )}

  <!-- Rooms Section - Hidden for tennis-clinic and junior-tennis-camp -->
  {(holidayType !== 'tennis-clinic' && holidayType !== 'junior-tennis-camp') && (
  <section id="rooms" class="w-full bg-white py-12 sm:py-16 lg:py-20 border-t border-gray-200 scroll-mt-20">
    <div class="container mx-auto max-w-[1400px] px-4 sm:px-10">
      
      <div class="grid grid-cols-1 lg:grid-cols-12 gap-12 items-center">
        <div class="lg:col-span-3 flex flex-col justify-center text-center lg:text-left">
          <h2 class="text-2xl sm:text-3xl lg:text-4xl font-playfair font-semibold text-gray-900 mb-4">
            Rooms
          </h2>
          <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed">
            {holidayData.roomsSubheading || 'Choose from our selection of beautifully appointed rooms and suites.'}
          </p>
        </div>

        <div class="lg:col-span-9">
          <div class="relative">
            {/* Only show navigation arrows if there are 2+ rooms */}
            {holidayData.rooms && holidayData.rooms.length > 1 && (
              <>
                <button id="prevRoomSlide" class="hidden lg:flex absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-6 z-10 w-12 h-12 bg-[#ad986c] hover:bg-[#8d7a56] rounded-full shadow-lg items-center justify-center transition-all duration-300">
                  <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" stroke="#FFFFFF"/>
                  </svg>
                </button>
                
                <button id="nextRoomSlide" class="hidden lg:flex absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-6 z-10 w-12 h-12 bg-[#ad986c] hover:bg-[#8d7a56] rounded-full shadow-lg items-center justify-center transition-all duration-300">
                  <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" stroke="#FFFFFF"/>
                  </svg>
                </button>
              </>
            )}

            <div class={`overflow-x-auto lg:overflow-visible snap-x snap-mandatory scrollbar-hide ${holidayData.rooms && holidayData.rooms.length === 1 ? 'flex justify-center' : ''}`}>
              <div id="roomsCarousel" class={`flex gap-6 transition-transform duration-500 ease-out ${holidayData.rooms && holidayData.rooms.length === 1 ? 'justify-center' : ''}`}>
                {holidayData.rooms && holidayData.rooms.length > 0 ? (
                  holidayData.rooms.map((room, roomIndex) => {
                    const firstImage = room.roomGallery?.[0];
                    const hasMultipleImages = room.roomGallery && room.roomGallery.length > 1;
                    const roomGalleryJson = room.roomGallery ? JSON.stringify(room.roomGallery) : '[]';
                    const isSingleRoom = holidayData.rooms.length === 1;
                    return (
                      <div class={`room-card flex-shrink-0 w-[85%] sm:w-[90%] ${isSingleRoom ? 'lg:w-full lg:max-w-2xl' : 'lg:w-[48%]'} snap-start`}>
                        <div class="bg-white border-2 border-gray-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 h-full">
                          <button 
                            type="button"
                            class={`relative h-48 sm:h-56 overflow-hidden bg-gray-100 w-full ${hasMultipleImages ? 'cursor-pointer group' : ''}`}
                            data-room-gallery={roomGalleryJson}
                            data-room-title={room.roomTitle}
                            data-has-gallery={hasMultipleImages}
                            onclick={hasMultipleImages ? 'openRoomGallery(this)' : undefined}
                          >
                            {firstImage ? (() => {
                              const imgAttrs = getStrapiImageAttrs(firstImage, {
                                displayWidth: 600,
                                displayHeight: 450,
                                fit: 'cover',
                                quality: 70,
                                sizes: '(max-width: 1024px) 85vw, 500px'
                              });
                              return (
                                <img 
                                  src={imgAttrs?.src || firstImage.url}
                                  srcset={imgAttrs?.srcset}
                                  sizes={imgAttrs?.sizes}
                                  width={imgAttrs?.width}
                                  height={imgAttrs?.height}
                                  alt={imgAttrs?.alt || room.roomTitle}
                                  class="w-full h-full object-cover"
                                  loading="lazy"
                                />
                              );
                            })() : (
                              <div class="w-full h-full bg-gray-200 flex items-center justify-center">
                                <svg class="w-12 h-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                </svg>
                              </div>
                            )}
                            
                            {/* View More overlay when there are multiple images */}
                            {hasMultipleImages && (
                              <div class="absolute inset-0 bg-black/40 group-hover:bg-black/50 transition-all duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100">
                                <div class="bg-white px-6 py-3 rounded-full shadow-lg flex items-center gap-2">
                                  <svg class="w-5 h-5 text-gray-900" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                                  </svg>
                                  <span class="text-sm font-inter font-semibold text-gray-900">View More ({room.roomGallery.length})</span>
                                </div>
                              </div>
                            )}
                          </button>
                          <div class="p-6">
                            <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-2 leading-tight">
                              {room.roomTitle}
                            </h3>
                            {(room.roomSize || room.roomBedConfig) && (
                              <div class="flex items-center gap-4 mb-4 text-sm text-gray-600 font-inter">
                                {room.roomSize && <span>{room.roomSize}</span>}
                                {room.roomSize && room.roomBedConfig && <span>•</span>}
                                {room.roomBedConfig && <span>{room.roomBedConfig}</span>}
                              </div>
                            )}
                            {room.roomText && (
                              <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed">{room.roomText}</p>
                            )}
                          </div>
                        </div>
                      </div>
                    );
                  })
                ) : (
                  <div class="room-card flex-shrink-0 w-[85%] sm:w-[90%] lg:w-[48%] snap-start">
                    <div class="bg-white border-2 border-gray-200 rounded-2xl p-6 text-center">
                      <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-2">Room Options</h3>
                      <p class="text-base sm:text-lg font-inter text-gray-800 leading-relaxed">Contact us for accommodation details.</p>
                    </div>
                  </div>
                )}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  )}

  <!-- Itinerary Section -->
  {holidayData.itinerary && holidayData.itinerary.length > 0 && (
    <section id="itinerary" class={`w-full py-12 sm:py-16 lg:py-20 border-t border-gray-200 scroll-mt-20 ${(holidayType === 'tennis-clinic' || holidayType === 'junior-tennis-camp') ? 'bg-white' : 'bg-gray-50'}`}>
      <div class="container mx-auto max-w-[1400px] px-4 sm:px-10">
        <h2 class="text-2xl sm:text-3xl lg:text-4xl font-playfair font-semibold text-gray-900 mb-8 sm:mb-12 text-center">
          Itinerary
        </h2>
        <div class="max-w-4xl mx-auto space-y-3">
          {holidayData.itinerary.map((item, index) => (
            <div class="bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm">
              <button type="button" class="itinerary-accordion-btn w-full flex items-center justify-between p-6 text-left hover:bg-gray-50 transition-colors">
                <div class="flex items-center gap-4">
                  <div class="hidden sm:flex w-12 h-12 bg-[#ad986c] text-white rounded-full items-center justify-center font-bold font-playfair text-base flex-shrink-0">
                    {index + 1}
                  </div>
                  <h3 class="text-base lg:text-lg font-inter font-medium text-gray-900" set:html={item.day || `Day ${index + 1}`}></h3>
                </div>
                <svg class="w-5 h-5 text-gray-600 transition-transform duration-300 itinerary-chevron flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                </svg>
              </button>
              <div class="itinerary-accordion-content hidden border-t border-gray-200">
                <div class="p-6">
                  <div class="prose max-w-none font-inter" set:html={marked.parse(item.content || '')}></div>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>
  )}

  <!-- Dates & Prices Section -->
  <section id="dates-prices" class={`w-full py-12 sm:py-16 lg:py-20 border-t border-gray-200 scroll-mt-20 ${(holidayType === 'tennis-clinic' || holidayType === 'junior-tennis-camp') ? 'bg-gray-50' : 'bg-white'}`}>
    <div class="container mx-auto max-w-[1400px] px-4 sm:px-10">
      
      <h2 class="text-2xl sm:text-3xl lg:text-4xl font-playfair font-semibold text-gray-900 mb-8 sm:mb-12 text-center">
        Dates & Prices
      </h2>

      {holidayType === 'school-tennis-tour' ? (
        <div class="max-w-2xl mx-auto text-center py-12 bg-gray-50 border border-gray-200 rounded-2xl">
          <svg class="w-16 h-16 mx-auto mb-4 text-[#ad986c]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
          </svg>
          <h3 class="text-2xl font-playfair font-semibold text-gray-900 mb-4">Contact Us for Pricing</h3>
          <p class="text-base sm:text-lg font-inter text-gray-700 mb-6 max-w-xl mx-auto">
            We'd love to discuss your school tennis tour requirements and provide you with a custom quote.
          </p>
          <a 
            href="mailto:hello@activeaway.com"
            class="inline-flex items-center gap-2 bg-[#ad986c] hover:bg-[#8d7a56] text-white font-inter font-semibold py-3 px-8 rounded-full transition-all duration-300 shadow-md hover:shadow-lg"
          >
            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
            </svg>
            Email Us
          </a>
        </div>
      ) : matchingEvents.length > 0 ? (
        <>
          <div id="eventsGrid" class={`grid grid-cols-1 gap-6 ${matchingEvents.length === 1 ? 'max-w-md mx-auto' : matchingEvents.length === 2 ? 'md:grid-cols-2 max-w-4xl mx-auto' : 'md:grid-cols-2 lg:grid-cols-3'}`}>
            {matchingEvents.map((event, index) => (
              <div class={`bg-white border-2 border-gray-200 rounded-2xl p-6 shadow-sm hover:shadow-lg transition-all duration-300 hover:-translate-y-1 ${index >= 3 ? 'event-card hidden' : ''}`}>
                <div class="mb-4">
                  <div class={`inline-block px-3 py-1 rounded-full text-xs font-inter font-semibold mb-3 ${event.statusClass}`}>
                    {event.statusBadge}
                  </div>
                  <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-3 leading-tight">
                    {event.dateText}
                  </h3>
                </div>
                <div class="mb-4 pb-4 border-b border-gray-200">
                  <p class="text-sm text-gray-600 font-inter mb-1">From</p>
                  <p class="text-3xl font-bold text-[#ad986c] font-playfair">
                    £{event.price}<span class="text-lg">pp</span>
                  </p>
                  {event.singleOccupancyPrice && (
                    <p class="text-xs text-gray-500 font-inter mt-1">Based on 2 sharing</p>
                  )}
                </div>
                {event.isSoldOut ? (
                  <button disabled class="block w-full text-center bg-gray-300 text-gray-600 font-inter font-semibold py-3 px-4 rounded-full cursor-not-allowed">
                    Sold Out
                  </button>
                ) : (
                  <a 
                    href={event.bookingLink} 
                    class="block w-full text-center text-white font-inter font-semibold py-3 px-4 rounded-full transition-colors hover:opacity-90"
                    style={`background-color: ${event.buttonColour || '#ad986c'}`}
                  >
                    {event.buttonText}
                  </a>
                )}
              </div>
            ))}
          </div>

          {matchingEvents.length > 3 && (
            <div class="text-center mt-8">
              <button id="loadMoreDates" class="inline-flex items-center gap-2 bg-gray-900 hover:bg-gray-800 text-white font-inter font-semibold py-3 px-8 rounded-full transition-all duration-300 shadow-md hover:shadow-lg">
                <span id="loadMoreText">Load More Dates</span>
                <svg id="loadMoreIcon" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                </svg>
              </button>
            </div>
          )}
        </>
      ) : (
        <div class="text-center py-12 bg-gray-50 border border-gray-200 rounded-2xl">
          <svg class="w-16 h-16 mx-auto mb-4 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
          </svg>
          <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-2">No Events Found</h3>
          <p class="text-base sm:text-lg font-inter text-gray-600 mb-6">
            Please check our <a href="/events" class="text-[#ad986c] hover:underline font-semibold">events</a> page for alternative options
          </p>
        </div>
      )}

      {matchingEvents.length > 0 && (
        <div class="mt-12 text-center bg-gray-50 border border-gray-200 rounded-2xl p-8">
          <p class="text-base sm:text-lg font-inter text-gray-800 mb-4">
            Considering other dates? Explore our dates in full on the link below.
          </p>
          <a href="/events" class="inline-flex items-center gap-2 bg-[#ad986c] hover:bg-[#8d7a56] text-white font-inter font-semibold py-3 px-8 rounded-full transition-all duration-300 shadow-md hover:shadow-lg">
            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M8 2v4"/>
              <path d="M16 2v4"/>
              <rect width="18" height="18" x="3" y="4" rx="2"/>
              <path d="M3 10h18"/>
            </svg>
            View All Dates
          </a>
        </div>
      )}
    </div>
  </section>

  <!-- FAQs Section -->
  {holidayData.faqs && holidayData.faqs.length > 0 && (
    <section id="faqs" class={`w-full py-12 sm:py-16 lg:py-20 border-t border-gray-200 scroll-mt-20 ${(holidayType === 'tennis-clinic' || holidayType === 'junior-tennis-camp') ? 'bg-white' : 'bg-gray-50'}`}>
      <div class="container mx-auto max-w-[1400px] px-4 sm:px-10">
        <h2 class="text-2xl sm:text-3xl lg:text-4xl font-playfair font-semibold text-gray-900 mb-8 sm:mb-12 text-center">
          FAQs
        </h2>
        <div class="max-w-4xl mx-auto space-y-3">
          {holidayData.faqs.map((faq) => (
            <div class="bg-white border border-gray-200 rounded-xl overflow-hidden shadow-sm">
              <button type="button" class="faq-accordion-btn w-full flex items-center justify-between p-6 text-left hover:bg-gray-50 transition-colors">
                <h3 class="text-base lg:text-lg font-inter font-medium text-gray-900 pr-4 flex-1">{faq.question}</h3>
                <svg class="w-5 h-5 text-gray-600 transition-transform duration-300 faq-chevron flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                </svg>
              </button>
              <div class="faq-accordion-content hidden border-t border-gray-200">
                <div class="p-6">
                  <div class="prose max-w-none font-inter" set:html={marked.parse(faq.answer || '')}></div>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>
  )}

  <!-- Other Destinations Section - Hidden for group organisers -->
  {!isGroupOrganiser && similarHolidays.length > 0 && (
    <section class={`w-full py-12 sm:py-16 lg:py-20 border-t border-gray-200 ${(holidayType === 'tennis-clinic' || holidayType === 'junior-tennis-camp') ? 'bg-gray-50' : 'bg-white'}`}>
      <div class="container mx-auto max-w-[1400px] px-4 sm:px-10">
        <h2 class="text-2xl sm:text-3xl lg:text-4xl font-playfair font-semibold text-gray-900 mb-8 sm:mb-12 text-center">
          Other Destinations
        </h2>
        <div class={`grid grid-cols-1 gap-6 ${
          similarHolidays.length === 1 ? 'md:grid-cols-1 lg:grid-cols-1 max-w-md mx-auto' : 
          similarHolidays.length === 2 ? 'md:grid-cols-2 lg:grid-cols-2 max-w-3xl mx-auto' : 
          'md:grid-cols-2 lg:grid-cols-3'
        }`}>
          {similarHolidays.map((holiday) => (
            <a href={`/${holiday.holidayType || holidayType}/${holiday.slug}`} class="group bg-white border-2 border-gray-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-xl hover:border-[#ad986c] transition-all duration-300 hover:-translate-y-1">
              {holiday.image && (
                <div class="aspect-video overflow-hidden bg-gray-100 relative">
                  <img src={holiday.image} alt={holiday.imageAlt || holiday.title} class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" loading="lazy" />
                  <div class="absolute inset-0 bg-gradient-to-t from-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                </div>
              )}
              <div class="p-6">
                <h3 class="text-xl font-playfair font-semibold text-gray-900 mb-3 group-hover:text-[#ad986c] transition-colors leading-tight">{holiday.title}</h3>
                {holiday.country && (
                  <div class="flex items-center gap-2 text-sm text-gray-600 font-inter mb-4">
                    <svg class="w-4 h-4 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                    </svg>
                    {holiday.country}
                  </div>
                )}
                {holiday.priceText && (
                  <div class="mb-4">
                    <p class="text-sm text-gray-600 font-inter mb-1">From</p>
                    <p class="text-3xl font-bold text-[#ad986c] font-playfair">{holiday.priceText.replace('from ', '').replace('pp', '')}<span class="text-lg">pp</span></p>
                    {(holiday.holidayType !== 'tennis-clinic' && holiday.holidayType !== 'junior-tennis-camp') && (
                      <p class="text-xs text-gray-500 font-inter mt-1">Based on 2 sharing</p>
                    )}
                  </div>
                )}
                <div class="mt-4 flex items-center gap-2 text-[#ad986c] font-inter font-semibold text-sm group-hover:gap-3 transition-all">
                  <span>View Details</span>
                  <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                  </svg>
                </div>
              </div>
            </a>
          ))}
        </div>

        {/* Contact Section */}
        <div class="mt-12 text-center bg-gray-50 border border-gray-200 rounded-2xl p-8">
          <p class="text-base sm:text-lg font-inter text-gray-800 mb-4">
            Explore some of our other handpicked destinations!
          </p>
          <a 
            href="/venues"
            class="inline-flex items-center gap-2 bg-[#ad986c] hover:bg-[#8d7a56] text-white font-inter font-semibold py-3 px-8 rounded-full transition-all duration-300 shadow-md hover:shadow-lg"
          >
            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M15 22a1 1 0 0 1-1-1v-4a1 1 0 0 1 .445-.832l3-2a1 1 0 0 1 1.11 0l3 2A1 1 0 0 1 22 17v4a1 1 0 0 1-1 1z"/>
              <path d="M18 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 .601.2"/>
              <path d="M18 22v-3"/>
              <circle cx="10" cy="10" r="3"/>
            </svg>
            All Destinations
          </a>
        </div>
      </div>
    </section>
  )}

  <!-- Contact Us Section -->
  <section class={`w-full py-12 sm:py-16 lg:py-20 border-t border-gray-200 ${
    isGroupOrganiser ? 'bg-white' : 
    (holidayType === 'tennis-clinic' || holidayType === 'junior-tennis-camp') ? 'bg-white' : 
    'bg-gray-50'
  }`}>
    <div class="container mx-auto max-w-[1400px] px-4 sm:px-10">
      <h2 class="text-2xl sm:text-3xl lg:text-4xl font-playfair font-semibold text-gray-900 mb-8 sm:mb-12 text-center">
        Contact Us
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-3xl mx-auto">
        <!-- Phone -->
        <a 
          href="tel:+442079657277"
          class="group bg-white border-2 border-gray-200 rounded-2xl p-8 shadow-sm hover:shadow-xl hover:border-[#ad986c] transition-all duration-300 hover:-translate-y-1 text-center"
        >
          <svg class="w-8 h-8 mx-auto mb-4 text-[#ad986c]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
          </svg>
          <h3 class="text-lg font-playfair font-semibold text-gray-900 mb-2 group-hover:text-[#ad986c] transition-colors">
            Phone
          </h3>
          <p class="text-base font-inter text-gray-700 group-hover:text-[#ad986c] transition-colors">
            +44 020 7965 7277
          </p>
        </a>
        
        <!-- Email -->
        <a 
          href={`mailto:hello@activeaway.com?subject=${encodeURIComponent(holidayData.title)}`}
          class="group bg-white border-2 border-gray-200 rounded-2xl p-8 shadow-sm hover:shadow-xl hover:border-[#ad986c] transition-all duration-300 hover:-translate-y-1 text-center"
        >
          <svg class="w-8 h-8 mx-auto mb-4 text-[#ad986c]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
          </svg>
          <h3 class="text-lg font-playfair font-semibold text-gray-900 mb-2 group-hover:text-[#ad986c] transition-colors">
            Email
          </h3>
          <p class="text-base font-inter text-gray-700 group-hover:text-[#ad986c] transition-colors">
            hello@activeaway.com
          </p>
        </a>
      </div>
    </div>
  </section>

  <!-- Gallery Lightbox Modal -->
  <div id="galleryLightbox" class="hidden fixed inset-0 z-50 bg-black/95 flex items-center justify-center">
    <div class="relative w-full h-full flex items-center justify-center p-4">
      <!-- Close Button -->
      <button
        id="closeGalleryButton"
        class="absolute top-4 right-4 z-10 w-12 h-12 bg-white/10 hover:bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center transition-colors"
        aria-label="Close gallery"
      >
        <svg class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
      
      <!-- Previous Button -->
      <button
        id="prevGalleryButton"
        class="absolute left-4 z-10 w-12 h-12 bg-white/10 hover:bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center transition-colors"
        aria-label="Previous image"
      >
        <svg class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
        </svg>
      </button>
      
      <!-- Image Container -->
      <div class="max-w-6xl max-h-[90vh] w-full h-full flex items-center justify-center">
        <img 
          id="galleryLightboxImage"
          src=""
          alt=""
          class="max-w-full max-h-full object-contain rounded-lg"
        />
      </div>
      
      <!-- Next Button -->
      <button
        id="nextGalleryButton"
        class="absolute right-4 z-10 w-12 h-12 bg-white/10 hover:bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center transition-colors"
        aria-label="Next image"
      >
        <svg class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
      </button>
      
      <!-- Image Counter -->
      <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/50 backdrop-blur-sm text-white px-4 py-2 rounded-full text-sm font-inter">
        <span id="galleryCounter">1</span> / <span id="galleryTotal">1</span>
      </div>
    </div>
  </div>

  </main>

  <!-- Map Lightbox Modal -->
  <div id="mapLightbox" class="hidden fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4">
    <div class="relative w-full max-w-6xl h-[80vh] bg-white rounded-2xl overflow-hidden shadow-2xl">
      <!-- Close Button -->
      <button
        id="closeMapButton"
        class="absolute top-4 right-4 z-10 w-10 h-10 bg-white hover:bg-gray-100 rounded-full shadow-lg flex items-center justify-center transition-colors"
        aria-label="Close map"
      >
        <svg class="w-6 h-6 text-gray-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
      
      <!-- Google Maps Embed -->
      <iframe
        id="mapIframe"
        class="w-full h-full"
        frameborder="0"
        style="border:0"
        allowfullscreen
        loading="lazy"
      ></iframe>
    </div>
  </div>

  <!-- Persistent Dates & Prices Button -->
  <div id="persistentDatesButton" class="fixed bottom-6 right-6 z-40 transition-all duration-300 opacity-0 pointer-events-none">
    <button
      id="persistentDatesBtn"
      class="bg-[#ad986c] hover:bg-[#8d7a56] text-white font-inter font-medium py-2.5 px-5 rounded-full transition-all duration-300 flex items-center gap-2 shadow-lg hover:shadow-xl text-sm"
    >
      <span id="persistentDatesText">Dates & Prices</span>
      <svg id="persistentDatesArrow" class="w-4 h-4 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
      </svg>
    </button>
  </div>

</BaseLayout>

<style>
  .font-inter {
    font-family: 'Inter', sans-serif;
  }
  
  .font-playfair {
    font-family: 'Playfair Display', serif;
  }

  /* Hide scrollbar for horizontal scroll */
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* Tab Navigation Styles */
  .page-nav-tab {
    background-color: transparent;
    color: #6b7280;
  }

  .page-nav-tab:hover {
    background-color: #f3f4f6;
    color: #111827;
  }

  .page-nav-tab.active {
    background-color: #ad986c;
    color: #ffffff;
  }

  /* Tennis carousel styles */
  .tennis-slide::after {
    content: '';
    position: absolute;
    inset: 0;
    background: rgba(255, 255, 255, 0.7);
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
    z-index: 5;
    border-radius: 1rem;
  }

  .tennis-slide.slide-hidden::after {
    opacity: 1;
  }

  /* Lite YouTube styles for performance */
  .lite-youtube-tennis {
    position: relative;
    display: block;
    width: 100%;
    height: 100%;
    background-color: #000;
    cursor: pointer;
    border: none;
    padding: 0;
  }

  .lite-youtube-tennis img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .lite-youtube__play {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 68px;
    height: 48px;
    transform: translate(-50%, -50%);
    background: rgba(33, 33, 33, 0.8);
    border-radius: 14px;
    transition: background 0.3s ease;
    z-index: 1;
  }

  .lite-youtube__play::before {
    content: '';
    position: absolute;
    left: 22px;
    top: 14px;
    border-style: solid;
    border-width: 10px 0 10px 16px;
    border-color: transparent transparent transparent #fff;
  }

  .lite-youtube-tennis:hover .lite-youtube__play {
    background: rgba(214, 0, 0, 0.9);
  }

  /* Facility tabs styling */
  .facility-tab {
    background-color: transparent;
    color: #6b7280;
    border-bottom: 3px solid transparent;
  }

  .facility-tab:hover {
    color: #111827;
  }

  .facility-tab.active {
    background-color: #ad986c;
    color: #ffffff;
    border-bottom-color: #ad986c;
    border-radius: 0.5rem 0.5rem 0 0;
  }
  
  .facility-tab.active svg {
    color: #ffffff;
  }

  .facility-tab-content {
    display: none;
  }

  .facility-tab-content.active {
    display: block;
  }
</style>

<script define:vars={{ mapSearchTerm: holidayData.googleMapsSearchTerm, carouselSlideCount }}>
  // Smooth scroll to sections when tabs are clicked
  document.addEventListener('DOMContentLoaded', () => {
    const navTabs = document.querySelectorAll('.page-nav-tab');
    
    navTabs.forEach(tab => {
      tab.addEventListener('click', () => {
        const sectionId = tab.dataset.section;
        
        // Update active tab
        navTabs.forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
        
        // Scroll to section using global function
        window.scrollToSection(sectionId);
      });
    });

    // WhatsApp Group Button Handler (decode URL on click to prevent scraping)
    const whatsappBtn = document.querySelector('.whatsapp-group-btn');
    if (whatsappBtn) {
      whatsappBtn.addEventListener('click', function() {
        const encodedUrl = this.getAttribute('data-whatsapp-url');
        if (encodedUrl) {
          try {
            const decodedUrl = atob(encodedUrl);
            window.open(decodedUrl, '_blank', 'noopener,noreferrer');
          } catch (e) {
            console.error('Failed to decode WhatsApp URL');
          }
        }
      });
    }

    // Update active tab on scroll
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const sectionId = entry.target.id;
            const correspondingTab = document.querySelector(`[data-section="${sectionId}"]`);
            
            if (correspondingTab) {
              navTabs.forEach(t => t.classList.remove('active'));
              correspondingTab.classList.add('active');
            }
          }
        });
      },
      { threshold: 0.3, rootMargin: '-100px 0px -50% 0px' }
    );

    // Observe sections when they're added
    const sections = document.querySelectorAll('[id]');
    sections.forEach(section => {
      if (['info', 'resort', 'rooms', 'itinerary', 'faqs'].includes(section.id)) {
        observer.observe(section);
      }
    });

    // Tennis carousel functionality  
    let currentTennisSlide = 0;
    const totalTennisSlides = carouselSlideCount;
    const tennisCarousel = document.getElementById('tennisCarousel');
    const prevTennisBtn = document.getElementById('prevTennisSlide');
    const nextTennisBtn = document.getElementById('nextTennisSlide');
    const tennisDots = document.querySelectorAll('.tennis-dot');

    const updateTennisCarousel = () => {
      if (!tennisCarousel) return;
      
      const isDesktop = window.innerWidth >= 1024;
      
      if (isDesktop) {
        const slideWidth = 900;
        const gap = 24;
        const offset = currentTennisSlide * (slideWidth + gap);
        tennisCarousel.style.transform = `translateX(-${offset}px)`;
        
        const slides = document.querySelectorAll('.tennis-slide');
        slides.forEach((slide, index) => {
          if (index === currentTennisSlide) {
            slide.classList.remove('slide-hidden');
          } else if (index === currentTennisSlide - 1 || index === currentTennisSlide + 1) {
            slide.classList.add('slide-hidden');
          } else {
            slide.classList.add('slide-hidden');
          }
        });
      } else {
        tennisCarousel.style.transform = 'translateX(0)';
        const slides = document.querySelectorAll('.tennis-slide');
        slides.forEach(slide => slide.classList.remove('slide-hidden'));
      }
      
      tennisDots.forEach((dot, index) => {
        if (index === currentTennisSlide) {
          dot.classList.remove('w-2', 'bg-gray-300');
          dot.classList.add('w-8');
          dot.style.backgroundColor = '#ad986c';
        } else {
          dot.classList.remove('w-8');
          dot.classList.add('w-2', 'bg-gray-300');
          dot.style.backgroundColor = '';
        }
      });
      
      if (prevTennisBtn) {
        prevTennisBtn.style.opacity = currentTennisSlide === 0 ? '0.3' : '1';
        prevTennisBtn.style.pointerEvents = currentTennisSlide === 0 ? 'none' : 'auto';
      }
      if (nextTennisBtn) {
        nextTennisBtn.style.opacity = currentTennisSlide === totalTennisSlides - 1 ? '0.3' : '1';
        nextTennisBtn.style.pointerEvents = currentTennisSlide === totalTennisSlides - 1 ? 'none' : 'auto';
      }
    };

    prevTennisBtn?.addEventListener('click', () => {
      if (currentTennisSlide > 0) {
        currentTennisSlide--;
        updateTennisCarousel();
      }
    });

    nextTennisBtn?.addEventListener('click', () => {
      if (currentTennisSlide < totalTennisSlides - 1) {
        currentTennisSlide++;
        updateTennisCarousel();
      }
    });

    tennisDots.forEach((dot, index) => {
      dot.addEventListener('click', () => {
        currentTennisSlide = index;
        updateTennisCarousel();
      });
    });

    updateTennisCarousel();
    
    let tennisResizeTimeout;
    window.addEventListener('resize', () => {
      clearTimeout(tennisResizeTimeout);
      tennisResizeTimeout = setTimeout(() => {
        updateTennisCarousel();
      }, 100);
    });

    // Lite YouTube embed optimization
    document.querySelectorAll('.lite-youtube-tennis').forEach((trigger) => {
      trigger.addEventListener('click', () => {
        const videoId = trigger.getAttribute('data-video-id');
        if (!videoId) return;
        
        const iframe = document.createElement('iframe');
        iframe.setAttribute('allowfullscreen', '');
        iframe.setAttribute('loading', 'lazy');
        iframe.setAttribute('title', 'YouTube video player');
        iframe.setAttribute('src', `https://www.youtube-nocookie.com/embed/${videoId}?autoplay=1&rel=0`);
        iframe.setAttribute('allow', 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture');
        iframe.style.position = 'absolute';
        iframe.style.inset = '0';
        iframe.style.width = '100%';
        iframe.style.height = '100%';
        iframe.style.border = 'none';

        const wrapper = document.createElement('div');
        wrapper.style.position = 'relative';
        wrapper.style.width = '100%';
        wrapper.style.height = '100%';
        wrapper.appendChild(iframe);

        trigger.replaceWith(wrapper);
      }, { once: true });
    });

    // Facility tabs functionality
    const facilityTabs = document.querySelectorAll('.facility-tab');
    const facilityTabContents = document.querySelectorAll('.facility-tab-content');

    facilityTabs.forEach(tab => {
      tab.addEventListener('click', () => {
        const tabName = tab.dataset.tab;
        
        facilityTabs.forEach(t => t.classList.remove('active'));
        facilityTabContents.forEach(c => {
          c.classList.remove('active');
          c.classList.add('hidden');
        });
        
        tab.classList.add('active');
        
        const content = document.querySelector(`[data-tab-content="${tabName}"]`);
        if (content) {
          content.classList.remove('hidden');
          content.classList.add('active');
        }
      });
    });

    // Rooms carousel functionality (only if multiple rooms)
    const roomsCarousel = document.getElementById('roomsCarousel');
    const prevRoomBtn = document.getElementById('prevRoomSlide');
    const nextRoomBtn = document.getElementById('nextRoomSlide');
    const roomCards = document.querySelectorAll('.room-card');
    let currentRoomSlide = 0;

    const updateRoomsCarousel = () => {
      if (!roomsCarousel || roomCards.length === 0 || roomCards.length === 1) return;
      const isDesktop = window.innerWidth >= 1024;
      
      if (isDesktop) {
        const cardWidth = roomCards[0]?.offsetWidth || 0;
        const gap = 24;
        const offset = currentRoomSlide * (cardWidth + gap);
        roomsCarousel.style.transform = `translateX(-${offset}px)`;
        
        roomCards.forEach((card, index) => {
          const cardInner = card.querySelector('.bg-white');
          
          // Calculate which cards should be visible
          // Show cards: currentSlide, currentSlide + 1, currentSlide + 2 (preview with overlay)
          if (index < currentRoomSlide) {
            // Cards before current - completely hidden
            card.style.visibility = 'hidden';
            card.style.opacity = '0';
            if (cardInner) {
              const overlay = cardInner.querySelector('.room-overlay');
              if (overlay) overlay.remove();
            }
          } else if (index === currentRoomSlide || index === currentRoomSlide + 1) {
            // Current and next card - fully visible, no overlay
            card.style.visibility = 'visible';
            card.style.opacity = '1';
            if (cardInner) {
              const overlay = cardInner.querySelector('.room-overlay');
              if (overlay) overlay.remove();
            }
          } else if (index === currentRoomSlide + 2) {
            // Preview card (3rd visible) - show with white overlay
            card.style.visibility = 'visible';
            card.style.opacity = '1';
            if (cardInner) {
              let overlay = cardInner.querySelector('.room-overlay');
              if (!overlay) {
                overlay = document.createElement('div');
                overlay.className = 'room-overlay absolute inset-0 bg-white/70 pointer-events-none z-10 rounded-2xl';
                cardInner.style.position = 'relative';
                cardInner.appendChild(overlay);
              }
            }
          } else {
            // Cards after preview - hidden
            card.style.visibility = 'hidden';
            card.style.opacity = '0';
            if (cardInner) {
              const overlay = cardInner.querySelector('.room-overlay');
              if (overlay) overlay.remove();
            }
          }
        });
      } else {
        roomsCarousel.style.transform = 'translateX(0)';
        roomCards.forEach(card => {
          card.style.visibility = 'visible';
          card.style.opacity = '1';
          const cardInner = card.querySelector('.bg-white');
          if (cardInner) {
            const overlay = cardInner.querySelector('.room-overlay');
            if (overlay) overlay.remove();
          }
        });
      }
      
      if (prevRoomBtn) {
        prevRoomBtn.style.opacity = currentRoomSlide === 0 ? '0.3' : '1';
        prevRoomBtn.style.pointerEvents = currentRoomSlide === 0 ? 'none' : 'auto';
      }
      if (nextRoomBtn) {
        const maxSlide = roomCards.length - 2; // Stop when only 2 cards left
        nextRoomBtn.style.opacity = currentRoomSlide >= maxSlide ? '0.3' : '1';
        nextRoomBtn.style.pointerEvents = currentRoomSlide >= maxSlide ? 'none' : 'auto';
      }
    };

    prevRoomBtn?.addEventListener('click', () => {
      if (currentRoomSlide > 0) {
        currentRoomSlide--;
        updateRoomsCarousel();
      }
    });

    nextRoomBtn?.addEventListener('click', () => {
      const isDesktop = window.innerWidth >= 1024;
      const maxSlide = roomCards.length - (isDesktop ? 2 : 1);
      if (currentRoomSlide < maxSlide) {
        currentRoomSlide++;
        updateRoomsCarousel();
      }
    });

    updateRoomsCarousel();

    // Itinerary accordion
    document.querySelectorAll('.itinerary-accordion-btn').forEach(button => {
      button.addEventListener('click', () => {
        const content = button.nextElementSibling;
        const chevron = button.querySelector('.itinerary-chevron');
        const isOpen = !content.classList.contains('hidden');
        
        if (isOpen) {
          content.classList.add('hidden');
          chevron.style.transform = 'rotate(0deg)';
        } else {
          content.classList.remove('hidden');
          chevron.style.transform = 'rotate(180deg)';
        }
      });
    });

    // FAQ accordion
    document.querySelectorAll('.faq-accordion-btn').forEach(button => {
      button.addEventListener('click', () => {
        const content = button.nextElementSibling;
        const chevron = button.querySelector('.faq-chevron');
        const isOpen = !content.classList.contains('hidden');
        
        if (isOpen) {
          content.classList.add('hidden');
          chevron.style.transform = 'rotate(0deg)';
        } else {
          content.classList.remove('hidden');
          chevron.style.transform = 'rotate(180deg)';
        }
      });
    });

    // Load More Dates functionality
    const loadMoreBtn = document.getElementById('loadMoreDates');
    const loadMoreText = document.getElementById('loadMoreText');
    const loadMoreIcon = document.getElementById('loadMoreIcon');
    const hiddenEventCards = document.querySelectorAll('.event-card.hidden');
    let allEventsShown = false;

    if (loadMoreBtn && hiddenEventCards.length > 0) {
      loadMoreBtn.addEventListener('click', () => {
        if (!allEventsShown) {
          hiddenEventCards.forEach(card => card.classList.remove('hidden'));
          allEventsShown = true;
          loadMoreText.textContent = 'Show Less';
          loadMoreIcon.style.transform = 'rotate(180deg)';
        } else {
          hiddenEventCards.forEach(card => card.classList.add('hidden'));
          allEventsShown = false;
          loadMoreText.textContent = 'Load More Dates';
          loadMoreIcon.style.transform = 'rotate(0deg)';
          
          const eventsGrid = document.getElementById('eventsGrid');
          if (eventsGrid) {
            eventsGrid.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }
        }
      });
    } else if (loadMoreBtn && hiddenEventCards.length === 0) {
      loadMoreBtn.style.display = 'none';
    }

    // Map lightbox functionality
    const openMapButton = document.getElementById('openMapButton');
    const mapLightbox = document.getElementById('mapLightbox');
    const closeMapButton = document.getElementById('closeMapButton');
    const mapIframe = document.getElementById('mapIframe');

    if (openMapButton && mapLightbox && mapSearchTerm) {
      // Open map lightbox
      openMapButton.addEventListener('click', () => {
        // Set iframe src when opening
        const mapsUrl = `https://www.google.com/maps?q=${encodeURIComponent(mapSearchTerm)}&output=embed`;
        mapIframe.src = mapsUrl;
        
        // Show lightbox
        mapLightbox.classList.remove('hidden');
        document.body.style.overflow = 'hidden'; // Prevent background scrolling
      });

      // Close map lightbox
      const closeLightbox = () => {
        mapLightbox.classList.add('hidden');
        document.body.style.overflow = ''; // Restore scrolling
        mapIframe.src = ''; // Clear iframe to stop loading
      };

      closeMapButton.addEventListener('click', closeLightbox);
      
      // Close on background click
      mapLightbox.addEventListener('click', (e) => {
        if (e.target === mapLightbox) {
          closeLightbox();
        }
      });

      // Close on Escape key
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && !mapLightbox.classList.contains('hidden')) {
          closeLightbox();
        }
      });
    }

    // Gallery lightbox functionality (works for both main gallery and room galleries)
    const galleryImages = document.querySelectorAll('.gallery-image');
    const galleryLightbox = document.getElementById('galleryLightbox');
    const galleryLightboxImage = document.getElementById('galleryLightboxImage');
    const closeGalleryButton = document.getElementById('closeGalleryButton');
    const prevGalleryButton = document.getElementById('prevGalleryButton');
    const nextGalleryButton = document.getElementById('nextGalleryButton');
    const galleryCounter = document.getElementById('galleryCounter');
    const galleryTotal = document.getElementById('galleryTotal');

    // Build gallery data from main gallery
    let galleryData = [];
    document.querySelectorAll('.gallery-image img').forEach(img => {
      galleryData.push({
        url: img.src,
        alt: img.alt
      });
    });

    let currentGalleryIndex = 0;

    // Show specific image
    const showGalleryImage = (index) => {
      if (galleryData[index]) {
        galleryLightboxImage.src = galleryData[index].url;
        galleryLightboxImage.alt = galleryData[index].alt;
        galleryCounter.textContent = index + 1;
        galleryTotal.textContent = galleryData.length;
        currentGalleryIndex = index;
      }
    };

    // Open gallery lightbox with specific data
    const openGalleryWithData = (data, startIndex = 0) => {
      galleryData = data;
      currentGalleryIndex = startIndex;
      showGalleryImage(startIndex);
      galleryLightbox.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    };

    // Close gallery
    const closeGallery = () => {
      galleryLightbox.classList.add('hidden');
      document.body.style.overflow = '';
    };

    // Next image
    const nextImage = () => {
      const nextIndex = (currentGalleryIndex + 1) % galleryData.length;
      showGalleryImage(nextIndex);
    };

    // Previous image
    const prevImage = () => {
      const prevIndex = (currentGalleryIndex - 1 + galleryData.length) % galleryData.length;
      showGalleryImage(prevIndex);
    };

    if (galleryLightbox) {
      // Main gallery images click handlers
      if (galleryImages.length > 0) {
        galleryImages.forEach(button => {
          button.addEventListener('click', () => {
            const index = parseInt(button.dataset.index);
            // Build main gallery data
            const mainGalleryData = [];
            document.querySelectorAll('.gallery-image img').forEach(img => {
              mainGalleryData.push({
                url: img.src,
                alt: img.alt
              });
            });
            openGalleryWithData(mainGalleryData, index);
          });
        });
      }

      closeGalleryButton?.addEventListener('click', closeGallery);
      prevGalleryButton?.addEventListener('click', prevImage);
      nextGalleryButton?.addEventListener('click', nextImage);

      // Close on background click
      galleryLightbox.addEventListener('click', (e) => {
        if (e.target === galleryLightbox) {
          closeGallery();
        }
      });

      // Keyboard navigation
      document.addEventListener('keydown', (e) => {
        if (!galleryLightbox.classList.contains('hidden')) {
          if (e.key === 'Escape') {
            closeGallery();
          } else if (e.key === 'ArrowRight') {
            nextImage();
          } else if (e.key === 'ArrowLeft') {
            prevImage();
          }
        }
      });
    }

    // Room Gallery functionality - opens room images in the gallery lightbox
    window.openRoomGallery = function(button) {
      try {
        const roomGalleryJson = button.getAttribute('data-room-gallery');
        const roomTitle = button.getAttribute('data-room-title');
        
        if (!roomGalleryJson) return;
        
        const roomGallery = JSON.parse(roomGalleryJson);
        
        if (roomGallery && roomGallery.length > 0) {
          // Format room gallery data for the lightbox
          const roomGalleryData = roomGallery.map(img => ({
            url: img.url,
            alt: img.alt || roomTitle
          }));
          
          // Open lightbox with room gallery images
          openGalleryWithData(roomGalleryData, 0);
        }
      } catch (error) {
        console.error('Error opening room gallery:', error);
      }
    };

    // Persistent Dates & Prices button functionality
    const persistentButton = document.getElementById('persistentDatesButton');
    const persistentDatesBtn = document.getElementById('persistentDatesBtn');
    const persistentDatesArrow = document.getElementById('persistentDatesArrow');
    const datesSection = document.getElementById('dates-prices');
    
    if (persistentButton && persistentDatesBtn && datesSection) {
      let isButtonVisible = false;
      let heroOutOfView = false;
      let datesInView = false;
      let pastDatesSection = false;
      
      const showButton = () => {
        if (!isButtonVisible) {
          persistentButton.classList.remove('opacity-0', 'pointer-events-none');
          persistentButton.classList.add('opacity-100', 'pointer-events-auto');
          isButtonVisible = true;
        }
      };
      
      const hideButton = () => {
        if (isButtonVisible) {
          persistentButton.classList.remove('opacity-100', 'pointer-events-auto');
          persistentButton.classList.add('opacity-0', 'pointer-events-none');
          isButtonVisible = false;
        }
      };
      
      const updateButtonDirection = () => {
        if (pastDatesSection) {
          // User has scrolled past dates - arrow points UP
          persistentDatesArrow.style.transform = 'rotate(180deg)';
        } else {
          // User is before dates - arrow points DOWN
          persistentDatesArrow.style.transform = 'rotate(0deg)';
        }
      };
      
      const evaluateButtonState = () => {
        // Check if user has scrolled past the dates section
        const datesRect = datesSection.getBoundingClientRect();
        pastDatesSection = datesRect.bottom < window.innerHeight / 2;
        
        // Show button when: hero out of view AND dates not currently in view
        const shouldShow = heroOutOfView && !datesInView;
        
        if (shouldShow) {
          showButton();
          updateButtonDirection();
        } else {
          hideButton();
        }
      };
      
      // Button click handler
      persistentDatesBtn.addEventListener('click', () => {
        window.scrollToSection('dates-prices');
      });
      
      const heroSection = document.getElementById('hero');
      if (heroSection) {
        const heroObserver = new IntersectionObserver((entries) => {
          heroOutOfView = entries.length > 0 ? !entries[0].isIntersecting : heroOutOfView;
          evaluateButtonState();
        }, { threshold: 0, rootMargin: '-80px 0px 0px 0px' });
        heroObserver.observe(heroSection);
      } else {
        // Fallback if hero section not found: use scroll position
        const handleScrollFallback = () => {
          const currentlyOutOfView = window.scrollY > 600;
          if (currentlyOutOfView !== heroOutOfView) {
            heroOutOfView = currentlyOutOfView;
            evaluateButtonState();
          }
        };
        handleScrollFallback();
        window.addEventListener('scroll', handleScrollFallback, { passive: true });
      }
      
      const datesObserver = new IntersectionObserver((entries) => {
        datesInView = entries.length > 0 ? entries[0].isIntersecting : datesInView;
        evaluateButtonState();
      }, { threshold: 0, rootMargin: '0px 0px -40% 0px' });
      datesObserver.observe(datesSection);
      
      // Update on scroll for arrow direction
      window.addEventListener('scroll', evaluateButtonState, { passive: true });
      
      // Ensure initial state is set
      evaluateButtonState();
    }
  });

  // Global function to scroll to section (used by persistent button and nav tabs)
  window.scrollToSection = function(sectionId) {
    const section = document.getElementById(sectionId);
    if (section) {
      // Use requestAnimationFrame to batch the read operation
      requestAnimationFrame(() => {
        const yOffset = -100; // Offset for fixed header
        const y = section.getBoundingClientRect().top + window.pageYOffset + yOffset;
        window.scrollTo({ top: y, behavior: 'smooth' });
      });
    }
  };
</script>
